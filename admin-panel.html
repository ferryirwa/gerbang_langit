<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Gerbang Langit</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    /* ===== VARIABLES & RESET ===== */
:root {
    --primary-color: #2c3e50;
    --secondary-color: #3498db;
    --accent-color: #1abc9c;
    --light-color: #ecf0f1;
    --dark-color: #2c3e50;
    --danger-color: #e74c3c;
    --warning-color: #f39c12;
    --success-color: #2ecc71;
    --info-color: #17a2b8;
    --purple-color: #9b59b6;
    --sidebar-width: 250px;
    --sidebar-collapsed-width: 70px;
    --header-height: 70px;
    --card-radius: 12px;
    --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    --transition: all 0.3s ease;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background-color: #f5f7fa;
    color: #333;
    display: flex;
    min-height: 100vh;
    overflow-x: hidden;
}

/* ===== ANIMATIONS ===== */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes slideIn {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

/* ===== SIDEBAR ===== */
.sidebar {
    background: linear-gradient(180deg, var(--primary-color) 0%, #1a252f 100%);
    color: white;
    width: var(--sidebar-width);
    min-height: 100vh;
    transition: var(--transition);
    position: fixed;
    left: 0;
    top: 0;
    z-index: 100;
    overflow-y: auto;
    overflow-x: hidden;
    box-shadow: var(--shadow);
    display: flex;
    flex-direction: column;
}

.sidebar-header {
    padding: 20px;
    text-align: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.logo {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    font-size: 1.8rem;
    font-weight: 700;
}

.logo i {
    color: var(--accent-color);
    font-size: 2rem;
}

.logo-text {
    transition: var(--transition);
    font-size: 1.4rem;
}

.sidebar-menu {
    padding: 20px 0;
    flex: 1;
}

.menu-item {
    padding: 16px 25px;
    display: flex;
    align-items: center;
    gap: 15px;
    color: rgba(255, 255, 255, 0.8);
    text-decoration: none;
    transition: var(--transition);
    border-left: 4px solid transparent;
    cursor: pointer;
    font-size: 1.05rem;
}

.menu-item:hover,
.menu-item.active {
    background-color: rgba(255, 255, 255, 0.1);
    color: white;
    border-left: 4px solid var(--accent-color);
}

.menu-item i {
    width: 22px;
    text-align: center;
    font-size: 1.3rem;
}

.menu-text {
    transition: var(--transition);
}

/* SIDEBAR COLLAPSED STATE */
.sidebar-collapsed {
    width: var(--sidebar-collapsed-width);
}

.sidebar-collapsed .logo-text,
.sidebar-collapsed .menu-text {
    display: none;
}

.sidebar-collapsed .btn-logout span {
    display: none;
}

.sidebar-collapsed + .main-content {
    margin-left: var(--sidebar-collapsed-width);
    width: calc(100% - var(--sidebar-collapsed-width));
}

/* LOGOUT SECTION */
.logout-section {
    padding: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    margin-top: auto;
}

.btn-logout {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    width: 100%;
    padding: 14px;
    background: rgba(231, 76, 60, 0.9);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1.05rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
}

.btn-logout:hover {
    background: rgba(192, 57, 43, 0.9);
    transform: translateY(-2px);
}

.btn-logout i {
    font-size: 1.2rem;
}

/* ===== MAIN CONTENT ===== */
.main-content {
    flex: 1;
    margin-left: var(--sidebar-width);
    transition: var(--transition);
    min-height: 100vh;
    width: calc(100% - var(--sidebar-width));
}

/* HEADER */
.header {
    background-color: white;
    height: auto;
    min-height: var(--header-height);
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    padding: 15px 30px;
    box-shadow: var(--shadow);
    position: sticky;
    top: 0;
    z-index: 99;
    gap: 15px;
}

.header-left {
    display: flex;
    align-items: center;
    gap: 15px;
    flex: 1;
    min-width: 250px;
}

.menu-toggle {
    background: none;
    border: none;
    font-size: 1.5rem;
    color: var(--primary-color);
    cursor: pointer;
    display: none;
    padding: 5px;
}

.header-title {
    flex: 1;
}

.header-title h1 {
    font-size: 1.5rem;
    color: var(--primary-color);
    line-height: 1.3;
    margin-bottom: 5px;
}

.header-title .breadcrumb {
    font-size: 0.9rem;
    color: #7f8c8d;
    display: flex;
    align-items: center;
    gap: 5px;
}

.header-title .breadcrumb i {
    font-size: 0.8rem;
}

.time-display {
    font-size: 0.9rem;
    color: #7f8c8d;
    font-weight: 500;
}

.header-right {
    display: flex;
    align-items: center;
    gap: 20px;
}

.user-info {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    position: relative;
}

.user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: var(--accent-color);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    flex-shrink: 0;
    cursor: pointer;
}

.user-details {
    display: flex;
    flex-direction: column;
}

.user-name {
    font-weight: 600;
    color: var(--primary-color);
}

.user-role {
    font-size: 0.85rem;
    color: #7f8c8d;
}

/* Logout dropdown for header */
.logout-dropdown {
    position: absolute;
    top: 100%;
    right: 0;
    background: white;
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    padding: 10px 0;
    min-width: 180px;
    display: none;
    z-index: 101;
    margin-top: 10px;
}

.logout-dropdown.active {
    display: block;
    animation: fadeIn 0.2s ease-out;
}

.logout-dropdown-item {
    padding: 12px 20px;
    display: flex;
    align-items: center;
    gap: 10px;
    color: #333;
    text-decoration: none;
    transition: var(--transition);
    cursor: pointer;
}

.logout-dropdown-item:hover {
    background-color: #f5f7fa;
    color: var(--danger-color);
}

.logout-dropdown-item i {
    color: var(--danger-color);
    width: 20px;
}

/* ===== DASHBOARD CONTENT ===== */
.dashboard-content {
    padding: 30px;
    width: 100%;
}

/* PAGE CONTENT */
.page-content {
    display: none;
    animation: fadeIn 0.5s ease-out;
    width: 100%;
}

.page-content.active {
    display: block;
}

/* ===== COMPONENTS ===== */

/* WELCOME BANNER */
.welcome-banner {
    background: linear-gradient(135deg, var(--secondary-color) 0%, var(--accent-color) 100%);
    color: white;
    padding: 25px;
    border-radius: var(--card-radius);
    margin-bottom: 30px;
    box-shadow: var(--shadow);
    width: 100%;
}

.welcome-banner h2 {
    font-size: 1.8rem;
    margin-bottom: 10px;
    line-height: 1.3;
}

.welcome-banner p {
    font-size: 1rem;
    line-height: 1.5;
}

/* STATS CARDS */
.stats-cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 25px;
    margin-bottom: 40px;
    width: 100%;
}

.stat-card {
    background-color: white;
    border-radius: var(--card-radius);
    padding: 25px;
    box-shadow: var(--shadow);
    transition: var(--transition);
    border-top: 5px solid var(--accent-color);
    width: 100%;
    min-height: 180px;
    display: flex;
    flex-direction: column;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

/* Stat card types */
.stat-card.order {
    border-top-color: var(--accent-color);
}

.stat-card.package {
    border-top-color: var(--secondary-color);
}

.stat-card.facility {
    border-top-color: var(--success-color);
}

.stat-card.testimonial {
    border-top-color: var(--warning-color);
}

.stat-card.gallery {
    border-top-color: var(--purple-color);
}

.stat-card.tool {
    border-top-color: var(--info-color);
}

.stat-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 15px;
}

.stat-title {
    font-size: 1rem;
    color: #7f8c8d;
    font-weight: 600;
    line-height: 1.4;
}

.stat-icon {
    width: 50px;
    height: 50px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
    flex-shrink: 0;
}

/* Stat icon colors */
.order .stat-icon {
    background-color: var(--accent-color);
}

.package .stat-icon {
    background-color: var(--secondary-color);
}

.facility .stat-icon {
    background-color: var(--success-color);
}

.testimonial .stat-icon {
    background-color: var(--warning-color);
}

.gallery .stat-icon {
    background-color: var(--purple-color);
}

.tool .stat-icon {
    background-color: var(--info-color);
}

.stat-value {
    font-size: 2.2rem;
    font-weight: 700;
    color: var(--primary-color);
    margin-bottom: 5px;
    line-height: 1;
}

.stat-subtext {
    font-size: 0.9rem;
    color: #95a5a6;
    line-height: 1.4;
}

/* ACTION SECTION */
.action-section {
    background-color: white;
    border-radius: var(--card-radius);
    padding: 25px;
    box-shadow: var(--shadow);
    margin-bottom: 30px;
    width: 100%;
}

.section-title {
    font-size: 1.5rem;
    color: var(--primary-color);
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
    line-height: 1.3;
}

.section-title i {
    color: var(--accent-color);
    flex-shrink: 0;
}

/* BUTTONS */
.action-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    width: 100%;
}

.btn {
    padding: 12px 20px;
    border-radius: 8px;
    border: none;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    transition: var(--transition);
    font-size: 1rem;
    text-align: center;
    flex: 1;
    min-width: 150px;
}

.btn i {
    flex-shrink: 0;
}

/* Button variants */
.btn-primary {
    background-color: var(--accent-color);
    color: white;
}

.btn-primary:hover {
    background-color: #16a085;
}

.btn-secondary {
    background-color: var(--secondary-color);
    color: white;
}

.btn-secondary:hover {
    background-color: #2980b9;
}

.btn-danger {
    background-color: var(--danger-color);
    color: white;
}

.btn-danger:hover {
    background-color: #c0392b;
}

.btn-success {
    background-color: var(--success-color);
    color: white;
}

.btn-success:hover {
    background-color: #27ae60;
}

.btn-warning {
    background-color: var(--warning-color);
    color: white;
}

.btn-warning:hover {
    background-color: #d68910;
}

.btn-info {
    background-color: var(--info-color);
    color: white;
}

.btn-info:hover {
    background-color: #138496;
}

.btn-sm {
    padding: 4px 10px;
    font-size: 0.85rem;
}

/* DATA TABLE */
.data-table {
    background-color: white;
    border-radius: var(--card-radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    margin-bottom: 30px;
    width: 100%;
    overflow-x: auto;
}

.table-header {
    padding: 20px;
    border-bottom: 1px solid #eee;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
}

.table-title {
    font-size: 1.3rem;
    color: var(--primary-color);
    flex: 1;
    min-width: 200px;
}

.table-search {
    padding: 10px 15px;
    border: 1px solid #ddd;
    border-radius: 6px;
    width: 250px;
    max-width: 100%;
    font-size: 1rem;
}

table {
    width: 100%;
    border-collapse: collapse;
    min-width: 600px;
}

thead {
    background-color: #f8f9fa;
}

th {
    padding: 15px;
    text-align: left;
    font-weight: 600;
    color: var(--primary-color);
    border-bottom: 2px solid #eee;
    white-space: nowrap;
}

td {
    padding: 15px;
    border-bottom: 1px solid #eee;
    vertical-align: middle;
}

tbody tr:hover {
    background-color: #f9f9f9;
}

/* STATUS BADGES */
.status {
    padding: 5px 10px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    display: inline-block;
    white-space: nowrap;
}

.status.active {
    background-color: rgba(46, 204, 113, 0.2);
    color: var(--success-color);
}

.status.pending {
    background-color: rgba(243, 156, 18, 0.2);
    color: var(--warning-color);
}

.status.inactive {
    background-color: rgba(149, 165, 166, 0.2);
    color: #7f8c8d;
}

.status.maintenance {
    background-color: rgba(52, 152, 219, 0.2);
    color: var(--secondary-color);
}

.status.success {
    background-color: rgba(46, 204, 113, 0.2);
    color: var(--success-color);
}

.status.warning {
    background-color: rgba(243, 156, 18, 0.2);
    color: var(--warning-color);
}

.status.error {
    background-color: rgba(231, 76, 60, 0.2);
    color: var(--danger-color);
}

/* BADGES */
.badge {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.8rem;
    font-weight: 600;
}

.badge-primary {
    background-color: rgba(52, 152, 219, 0.2);
    color: var(--secondary-color);
}

/* ===== GALLERY ===== */
.gallery-container {
    background-color: white;
    border-radius: var(--card-radius);
    padding: 25px;
    box-shadow: var(--shadow);
    margin-bottom: 30px;
}

.gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.gallery-item {
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: var(--transition);
    position: relative;
    height: 250px;
    background-color: #f8f9fa;
}

.gallery-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
}

.gallery-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: transform 0.5s ease;
}

.gallery-item:hover .gallery-img {
    transform: scale(1.05);
}

.gallery-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
    color: white;
    padding: 15px;
    transform: translateY(0);
    transition: var(--transition);
}

.gallery-item:hover .gallery-overlay {
    background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));
}

.gallery-title {
    font-weight: 600;
    margin-bottom: 5px;
    font-size: 1rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.gallery-date {
    font-size: 0.8rem;
    opacity: 0.9;
}

.gallery-actions {
    position: absolute;
    top: 10px;
    right: 10px;
    display: flex;
    gap: 5px;
    opacity: 0;
    transition: var(--transition);
    transform: translateY(-10px);
}

.gallery-item:hover .gallery-actions {
    opacity: 1;
    transform: translateY(0);
}

.gallery-actions .btn {
    width: 35px;
    height: 35px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    font-size: 0.9rem;
}

/* ===== FORMS ===== */
.form-container {
    background-color: white;
    border-radius: var(--card-radius);
    padding: 30px;
    box-shadow: var(--shadow);
    margin-bottom: 30px;
}

.form-group {
    margin-bottom: 20px;
}

.form-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: var(--primary-color);
}

.form-control {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-size: 1rem;
    transition: var(--transition);
}

.form-control:focus {
    outline: none;
    border-color: var(--accent-color);
    box-shadow: 0 0 0 3px rgba(26, 188, 156, 0.2);
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

textarea.form-control {
    min-height: 120px;
    resize: vertical;
}

.form-buttons {
    display: flex;
    gap: 15px;
    margin-top: 25px;
}

/* ===== PACKAGE CARDS ===== */
.package-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 25px;
    margin-top: 20px;
}

.package-card {
    background: white;
    border-radius: var(--card-radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    transition: var(--transition);
}

.package-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.package-header {
    padding: 20px;
    color: white;
    text-align: center;
    position: relative;
    overflow: hidden;
    background: linear-gradient(135deg, var(--secondary-color), #2980b9);
}

.package-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(0,0,0,0.1));
}

.package-name {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 10px;
}

.package-price {
    font-size: 2rem;
    font-weight: 700;
}

.package-body {
    padding: 20px;
}

.package-features {
    list-style: none;
    margin-bottom: 20px;
}

.package-features li {
    padding: 8px 0;
    display: flex;
    align-items: center;
    gap: 10px;
}

.package-features i {
    color: var(--success-color);
}

/* ===== TESTIMONIAL CARDS ===== */
.testimonial-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 25px;
    margin-top: 20px;
}

.testimonial-card {
    background: white;
    border-radius: var(--card-radius);
    padding: 25px;
    box-shadow: var(--shadow);
    transition: var(--transition);
}

.testimonial-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.testimonial-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 15px;
}

.testimonial-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: var(--accent-color);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    font-size: 1.5rem;
}

.testimonial-info h4 {
    color: var(--primary-color);
    margin-bottom: 5px;
}

.testimonial-rating {
    color: var(--warning-color);
}

.testimonial-text {
    color: #7f8c8d;
    line-height: 1.6;
    font-style: italic;
    border-left: 3px solid var(--accent-color);
    padding-left: 15px;
}

/* ===== TOOLS ===== */
.tools-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 25px;
    margin-top: 20px;
}

.tool-card {
    background: white;
    border-radius: var(--card-radius);
    padding: 25px;
    text-align: center;
    box-shadow: var(--shadow);
    transition: var(--transition);
    cursor: pointer;
}

.tool-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    background: linear-gradient(135deg, var(--info-color), #138496);
    color: white;
}

.tool-card:hover .tool-icon {
    background: white;
    color: var(--info-color);
}

.tool-card:hover .tool-title,
.tool-card:hover .tool-desc {
    color: white;
}

.tool-icon {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    background: var(--info-color);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px;
    font-size: 1.8rem;
    color: white;
}

.tool-title {
    font-size: 1.3rem;
    color: var(--primary-color);
    margin-bottom: 10px;
}

.tool-desc {
    color: #7f8c8d;
    font-size: 0.95rem;
}

/* TOOL CONTENT */
.tool-content-section {
    margin-bottom: 25px;
    padding-bottom: 20px;
    border-bottom: 1px solid #eee;
}

.tool-content-section:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

.tool-content-section h4 {
    margin-bottom: 15px;
    color: var(--primary-color);
    display: flex;
    align-items: center;
    gap: 8px;
}

.tool-content-section p {
    color: #7f8c8d;
    line-height: 1.6;
}

.tool-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.tool-list li {
    padding: 12px 15px;
    border-bottom: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #f8f9fa;
    border-radius: 6px;
    margin-bottom: 8px;
}

.tool-list li:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

/* INFO BOX */
.info-box {
    background-color: #f8f9fa;
    border-left: 4px solid var(--info-color);
    padding: 15px;
    border-radius: 6px;
    margin: 15px 0;
}

/* USER TABLE */
.user-table {
    width: 100%;
    border-collapse: collapse;
}

.user-table th {
    background-color: #f8f9fa;
    padding: 12px;
    text-align: left;
    font-weight: 600;
    color: var(--primary-color);
    border-bottom: 2px solid #eee;
}

.user-table td {
    padding: 12px;
    border-bottom: 1px solid #eee;
}

.user-table tr:hover {
    background-color: #f9f9f9;
}

/* LOG ITEMS */
.log-item {
    display: flex;
    align-items: center;
    padding: 10px;
    background: white;
    border-radius: 6px;
    margin-bottom: 8px;
    border: 1px solid #eee;
}

.log-time {
    font-size: 0.85rem;
    color: #7f8c8d;
    min-width: 70px;
}

.log-action {
    flex: 1;
    margin: 0 10px;
}

.log-user {
    background: var(--info-color);
    color: white;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.8rem;
}

/* ===== IMAGE UPLOAD ===== */
.image-upload {
    border: 2px dashed #ddd;
    border-radius: 8px;
    padding: 30px;
    text-align: center;
    cursor: pointer;
    transition: var(--transition);
}

.image-upload:hover {
    border-color: var(--accent-color);
    background-color: rgba(26, 188, 156, 0.05);
}

.image-upload i {
    font-size: 3rem;
    color: #7f8c8d;
    margin-bottom: 15px;
}

.image-upload-area {
    border: 2px dashed #ddd;
    border-radius: 8px;
    padding: 30px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    background-color: #f9f9f9;
    min-height: 150px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
}

.image-upload-area:hover {
    border-color: var(--accent-color);
    background-color: rgba(26, 188, 156, 0.05);
}

.image-upload-area i {
    font-size: 3rem;
    color: #7f8c8d;
    margin-bottom: 10px;
}

.image-upload-area p {
    margin: 5px 0;
}

.image-size-info {
    font-size: 0.85rem;
    color: #7f8c8d;
    margin-top: 5px;
}

.image-preview-container {
    position: relative;
    width: 100%;
    max-width: 300px;
    margin: 15px auto;
}

.image-preview {
    max-width: 100%;
    max-height: 200px;
    margin-top: 15px;
    border-radius: 8px;
    display: none;
}

.package-image-preview {
    max-width: 100%;
    max-height: 200px;
    border-radius: 8px;
    display: block;
    margin: 0 auto;
    object-fit: cover;
    border: 2px solid #eee;
}

.remove-image-btn {
    position: absolute;
    top: -10px;
    right: -10px;
    background: rgba(231, 76, 60, 0.9);
    color: white;
    border: none;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.remove-image-btn:hover {
    background: rgba(192, 57, 43, 0.9);
    transform: scale(1.1);
}

/* UPLOAD PROGRESS */
.upload-progress {
    width: 100%;
    height: 10px;
    background-color: #ecf0f1;
    border-radius: 5px;
    margin-top: 10px;
    overflow: hidden;
    display: none;
}

.upload-progress-bar {
    height: 100%;
    background-color: var(--accent-color);
    width: 0%;
    transition: width 0.3s ease;
}

.progress-bar {
    height: 10px;
    background: #eee;
    border-radius: 5px;
    overflow: hidden;
    margin: 10px 0;
}

.progress-bar div {
    height: 100%;
    background: var(--accent-color);
    transition: width 0.3s ease;
}

/* ===== HOSTING INFO ===== */
.hosting-info {
    background-color: white;
    border-radius: var(--card-radius);
    padding: 20px;
    box-shadow: var(--shadow);
    border-left: 5px solid var(--warning-color);
    margin-top: 30px;
    width: 100%;
    overflow-wrap: break-word;
    word-wrap: break-word;
}

.hosting-title {
    font-size: 1rem;
    color: #7f8c8d;
    margin-bottom: 5px;
}

.hosting-value {
    font-size: 1.2rem;
    color: var(--primary-color);
    font-weight: 600;
    word-break: break-all;
    line-height: 1.4;
}

/* ===== MODAL ===== */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    align-items: center;
    justify-content: center;
}

.modal.active {
    display: flex;
    animation: fadeIn 0.3s ease-out;
}

.modal-content {
    background: white;
    border-radius: 12px;
    padding: 30px;
    max-width: 500px;
    width: 90%;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.modal-icon {
    font-size: 3rem;
    color: var(--danger-color);
    margin-bottom: 20px;
    text-align: center;
}

.modal-title {
    font-size: 1.5rem;
    color: var(--primary-color);
    margin-bottom: 15px;
    text-align: center;
}

.modal-message {
    color: #7f8c8d;
    margin-bottom: 25px;
    line-height: 1.5;
    text-align: center;
}

.modal-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
}

.modal-btn {
    padding: 12px 25px;
    border-radius: 8px;
    border: none;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    min-width: 100px;
}

.modal-btn-cancel {
    background-color: #ecf0f1;
    color: var(--primary-color);
}

.modal-btn-cancel:hover {
    background-color: #d5dbdd;
}

.modal-btn-confirm {
    background-color: var(--danger-color);
    color: white;
}

.modal-btn-confirm:hover {
    background-color: #c0392b;
}

/* ===== RATING ===== */
.rating {
    display: flex;
    gap: 3px;
}

.rating i {
    color: #ddd;
}

.rating i.filled {
    color: var(--warning-color);
}

/* ===== NOTIFICATION ===== */
.notification {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 15px 20px;
    border-radius: 8px;
    color: white;
    z-index: 1001;
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    animation: slideIn 0.3s ease-out;
}

.notification.success {
    background-color: var(--success-color);
}

.notification.error {
    background-color: var(--danger-color);
}

.notification.info {
    background-color: var(--info-color);
}

.notification.warning {
    background-color: var(--warning-color);
}

/* ===== FOOTER ===== */
.footer {
    text-align: center;
    padding: 20px;
    color: #7f8c8d;
    font-size: 0.9rem;
    border-top: 1px solid #eee;
    margin-top: 30px;
    width: 100%;
}

/* ===== ANIMATED ELEMENTS ===== */
.stat-card,
.action-section,
.welcome-banner,
.data-table,
.gallery-container,
.form-container,
.package-card,
.testimonial-card,
.tool-card {
    animation: fadeIn 0.5s ease-out;
}

/* ===== RESPONSIVE DESIGN ===== */

/* Large Desktop */
@media (max-width: 1200px) {
    .btn {
        min-width: 140px;
    }
    
    .stats-cards {
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    }
    
    .gallery-grid,
    .package-grid,
    .testimonial-grid,
    .tools-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    }
}

/* Desktop */
@media (max-width: 1024px) {
    .sidebar {
        width: var(--sidebar-collapsed-width);
    }

    .sidebar .logo-text,
    .sidebar .menu-text {
        display: none;
    }

    .sidebar .btn-logout span {
        display: none;
    }

    .main-content {
        margin-left: var(--sidebar-collapsed-width);
        width: calc(100% - var(--sidebar-collapsed-width));
    }

    .menu-toggle {
        display: block;
    }
    
    .btn {
        min-width: 130px;
        padding: 10px 15px;
    }
}

/* Tablet */
@media (max-width: 900px) {
    .stats-cards {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .gallery-grid,
    .package-grid,
    .testimonial-grid,
    .tools-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .btn {
        min-width: 120px;
        padding: 10px 12px;
        font-size: 0.95rem;
    }
    
    .form-row {
        grid-template-columns: 1fr;
    }
}

/* Small Tablet */
@media (max-width: 768px) {
    .header {
        padding: 15px 20px;
        gap: 10px;
    }
    
    .header-left,
    .header-right {
        width: 100%;
        justify-content: space-between;
    }
    
    .header-title h1 {
        font-size: 1.3rem;
    }
    
    .dashboard-content {
        padding: 20px;
    }
    
    .welcome-banner {
        padding: 20px;
    }
    
    .welcome-banner h2 {
        font-size: 1.5rem;
    }
    
    .action-buttons {
        gap: 10px;
    }
    
    .btn {
        min-width: 100%;
        margin-bottom: 5px;
    }
    
    .table-search {
        width: 100%;
    }
    
    .stats-cards {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    .stat-card {
        padding: 20px;
    }
    
    .section-title {
        font-size: 1.3rem;
    }
    
    .gallery-grid,
    .package-grid,
    .testimonial-grid,
    .tools-grid {
        grid-template-columns: 1fr;
    }
    
    .gallery-item,
    .package-card,
    .testimonial-card,
    .tool-card {
        margin-bottom: 15px;
    }
    
    .user-details {
        display: none;
    }
}

/* Mobile */
@media (max-width: 576px) {
    body {
        flex-direction: column;
    }
    
    .sidebar {
        transform: translateX(-100%);
        width: 100%;
        max-width: 280px;
        z-index: 1000;
    }

    .sidebar .logo-text,
    .sidebar .menu-text {
        display: inline-block;
    }

    .sidebar .btn-logout span {
        display: inline-block;
    }

    .sidebar.active {
        transform: translateX(0);
    }

    .main-content {
        margin-left: 0;
        width: 100%;
    }
    
    .header {
        position: relative;
        padding: 12px 15px;
    }
    
    .header-title h1 {
        font-size: 1.2rem;
    }
    
    .time-display {
        font-size: 0.85rem;
    }
    
    .dashboard-content {
        padding: 15px;
    }
    
    .welcome-banner {
        padding: 15px;
        margin-bottom: 20px;
    }
    
    .welcome-banner h2 {
        font-size: 1.3rem;
    }
    
    .welcome-banner p {
        font-size: 0.95rem;
    }
    
    .stat-card {
        padding: 15px;
        min-height: 150px;
    }
    
    .stat-value {
        font-size: 1.8rem;
    }
    
    .stat-icon {
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
    }
    
    .action-section,
    .form-container,
    .gallery-container {
        padding: 20px;
    }
    
    .section-title {
        font-size: 1.2rem;
        margin-bottom: 15px;
    }
    
    .action-buttons {
        gap: 8px;
    }
    
    .btn {
        padding: 10px 15px;
        font-size: 0.9rem;
        justify-content: flex-start;
    }
    
    .btn i {
        width: 20px;
    }
    
    .gallery-item {
        height: 160px;
    }
    
    .table-header {
        padding: 15px;
    }
    
    .table-title {
        font-size: 1.1rem;
    }
    
    th,
    td {
        padding: 10px;
        font-size: 0.9rem;
    }
    
    .hosting-info {
        padding: 15px;
    }
    
    .hosting-value {
        font-size: 1rem;
    }
    
    .modal-content {
        padding: 20px;
    }
    
    .modal-buttons {
        flex-direction: column;
    }
    
    .modal-btn {
        width: 100%;
    }
}
</style>
</head>
<body>
    <!-- SIDEBAR -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <i class="fas fa-mountain"></i>
                <span class="logo-text">Gerbang Langit</span>
            </div>
        </div>
        <div class="sidebar-menu">
            <a href="#" class="menu-item active" data-page="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                <span class="menu-text">Dashboard</span>
            </a>
            <a href="#" class="menu-item" data-page="order">
                <i class="fas fa-shopping-cart"></i>
                <span class="menu-text">Pesanan</span>
            </a>
            <a href="#" class="menu-item" data-page="package">
                <i class="fas fa-box-open"></i>
                <span class="menu-text">Paket</span>
            </a>
            <a href="#" class="menu-item" data-page="facility">
                <i class="fas fa-concierge-bell"></i>
                <span class="menu-text">Fasilitas</span>
            </a>
            <a href="#" class="menu-item" data-page="gallery">
                <i class="fas fa-images"></i>
                <span class="menu-text">Galeri</span>
            </a>
            <a href="#" class="menu-item" data-page="testimonial">
                <i class="fas fa-comment-dots"></i>
                <span class="menu-text">Testimoni</span>
            </a>
            <a href="#" class="menu-item" data-page="tool">
                <i class="fas fa-tools"></i>
                <span class="menu-text">Tools</span>
            </a>
        </div>
        
        <!-- LOGOUT SECTION IN SIDEBAR -->
        <div class="logout-section">
            <button class="btn-logout" id="logoutBtnSidebar">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </button>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="main-content" id="mainContent">
        <!-- HEADER -->
        <header class="header">
            <div class="header-left">
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="header-title">
                    <h1 id="pageTitle">Dashboard Admin</h1>
                    <div class="breadcrumb" id="breadcrumb">
                        <span>Dashboard</span>
                        <i class="fas fa-chevron-right"></i>
                        <span>Utama</span>
                    </div>
                </div>
            </div>
            <div class="header-right">
                <div class="time-display" id="timeDisplay">18:48</div>
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">
                        AD
                    </div>
                    <div class="user-details">
                        <div class="user-name">Admin</div>
                        <div class="user-role">Administrator</div>
                    </div>
                    
                    <!-- Logout dropdown for header -->
                    <div class="logout-dropdown" id="logoutDropdown">
                        <div class="logout-dropdown-item" id="logoutBtnHeader">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Logout</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- DASHBOARD CONTENT -->
        <div class="dashboard-content">
            <!-- DASHBOARD PAGE -->
            <div id="dashboard-page" class="page-content active">
                <div class="welcome-banner">
                    <h2>Admin Gerbang Langit</h2>
                    <p>Selamat datang di panel admin Gerbang Langit. Kelola semua aspek wisata dari satu tempat.</p>
                </div>

                <div class="stats-cards">
                    <div class="stat-card order">
                        <div class="stat-header">
                            <div class="stat-title">Total Pesanan</div>
                            <div class="stat-icon">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="totalOrders">0</div>
                        <div class="stat-subtext" id="orderSubtext">Memuat data...</div>
                    </div>

                    <div class="stat-card package">
                        <div class="stat-header">
                            <div class="stat-title">Paket Tersedia</div>
                            <div class="stat-icon">
                                <i class="fas fa-box-open"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="totalPackages">0</div>
                        <div class="stat-subtext" id="packageSubtext">Memuat data...</div>
                    </div>

                    <div class="stat-card facility">
                        <div class="stat-header">
                            <div class="stat-title">Fasilitas</div>
                            <div class="stat-icon">
                                <i class="fas fa-concierge-bell"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="totalFacilities">0</div>
                        <div class="stat-subtext">Fasilitas tersedia</div>
                    </div>

                    <div class="stat-card testimonial">
                        <div class="stat-header">
                            <div class="stat-title">Testimoni</div>
                            <div class="stat-icon">
                                <i class="fas fa-comment-dots"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="totalTestimonials">0</div>
                        <div class="stat-subtext">Testimoni pengunjung</div>
                    </div>

                    <div class="stat-card gallery">
                        <div class="stat-header">
                            <div class="stat-title">Foto Galeri</div>
                            <div class="stat-icon">
                                <i class="fas fa-images"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="totalGallery">0</div>
                        <div class="stat-subtext">Foto tersedia</div>
                    </div>

                    <div class="stat-card tool">
                        <div class="stat-header">
                            <div class="stat-title">Tools</div>
                            <div class="stat-icon">
                                <i class="fas fa-tools"></i>
                            </div>
                        </div>
                        <div class="stat-value">6</div>
                        <div class="stat-subtext">Tools administrasi</div>
                    </div>
                </div>

                <div class="action-section">
                    <h3 class="section-title">
                        <i class="fas fa-bolt"></i>
                        Quick Actions
                    </h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="navigateTo('order')">
                            <i class="fas fa-plus"></i>
                            Tambah Pesanan
                        </button>
                        <button class="btn btn-secondary" onclick="navigateTo('package')">
                            <i class="fas fa-box-open"></i>
                            Kelola Paket
                        </button>
                        <button class="btn btn-success" onclick="navigateTo('gallery')">
                            <i class="fas fa-images"></i>
                            Upload Foto
                        </button>
                        <button class="btn btn-info" onclick="generateReport()">
                            <i class="fas fa-chart-bar"></i>
                            Lihat Statistik
                        </button>
                    </div>
                </div>
            </div>

            <!-- ORDER PAGE (PESANAN) -->
            <div id="order-page" class="page-content">
                <div class="welcome-banner">
                    <h2>Manajemen Pesanan</h2>
                    <p>Kelola semua pesanan dan reservasi pengunjung Gerbang Langit.</p>
                </div>

                <div class="action-section">
                    <h3 class="section-title">
                        <i class="fas fa-shopping-cart"></i>
                        Kelola Pesanan
                    </h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="createNewOrder()">
                            <i class="fas fa-plus"></i>
                            Buat Pesanan Baru
                        </button>
                        <button class="btn btn-secondary" onclick="searchOrders()">
                            <i class="fas fa-search"></i>
                            Cari Pesanan
                        </button>
                        <button class="btn btn-success" onclick="confirmSelectedOrders()">
                            <i class="fas fa-check-circle"></i>
                            Konfirmasi Pesanan
                        </button>
                        <button class="btn btn-danger" onclick="cancelSelectedOrders()">
                            <i class="fas fa-times-circle"></i>
                            Batalkan Pesanan
                        </button>
                    </div>
                </div>

                <div class="data-table">
                    <div class="table-header">
                        <h3 class="table-title">Daftar Pesanan Terbaru</h3>
                        <input type="text" class="table-search" placeholder="Cari pesanan..." onkeyup="filterOrders(this.value)">
                    </div>
                    <div style="overflow-x: auto;">
                        <table id="ordersTable">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="selectAllOrders"></th>
                                    <th>ID Pesanan</th>
                                    <th>Nama Pemesan</th>
                                    <th>Tanggal</th>
                                    <th>Paket</th>
                                    <th>Total Harga</th>
                                    <th>Status</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="ordersTableBody">
                                <!-- Data akan diisi JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- PACKAGE PAGE (PAKET) -->
            <div id="package-page" class="page-content">
                <div class="welcome-banner">
                    <h2>Manajemen Paket Wisata</h2>
                    <p>Kelola berbagai paket wisata yang ditawarkan di Gerbang Langit.</p>
                </div>

                <div class="action-section">
                    <h3 class="section-title">
                        <i class="fas fa-box-open"></i>
                        Kelola Paket
                    </h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="showAddPackageForm()">
                            <i class="fas fa-plus"></i>
                            Tambah Paket Baru
                        </button>
                        <button class="btn btn-secondary" onclick="editSelectedPackage()">
                            <i class="fas fa-edit"></i>
                            Edit Paket
                        </button>
                        <button class="btn btn-success" onclick="previewSelectedPackage()">
                            <i class="fas fa-eye"></i>
                            Preview Paket
                        </button>
                        <button class="btn btn-danger" onclick="deleteSelectedPackage()">
                            <i class="fas fa-trash"></i>
                            Hapus Paket
                        </button>
                    </div>
                </div>

                <div id="packageFormContainer" class="form-container" style="display: none;">
                    <h3 class="section-title">
                        <i class="fas fa-plus-circle"></i>
                        Tambah Paket Baru
                    </h3>
                    <form id="packageForm">
                        <div class="form-group">
                            <label class="form-label">Nama Paket</label>
                            <input type="text" class="form-control" id="packageName" placeholder="Contoh: Paket Keluarga" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Harga</label>
                                <input type="number" class="form-control" id="packagePrice" placeholder="Contoh: 750000" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Status</label>
                                <select class="form-control" id="packageStatus" required>
                                    <option value="active">Aktif</option>
                                    <option value="inactive">Tidak Aktif</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Deskripsi</label>
                            <textarea class="form-control" id="packageDescription" rows="4" placeholder="Deskripsi paket..." required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">URL Gambar</label>
                            <input type="text" class="form-control" id="packageImage" placeholder="URL gambar paket" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Badge</label>
                            <select class="form-control" id="packageBadge">
                                <option value="">Tidak Ada</option>
                                <option value="BESTSELLER">BESTSELLER</option>
                                <option value="POPULAR">POPULAR</option>
                                <option value="NEW">NEW</option>
                            </select>
                        </div>
                        
                        <div class="form-buttons">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i>
                                Simpan Paket
                            </button>
                            <button type="button" class="btn btn-secondary" onclick="hidePackageForm()">
                                <i class="fas fa-times"></i>
                                Batal
                            </button>
                        </div>
                    </form>
                </div>

                <div class="package-grid" id="packageGrid">
                    <!-- Data akan diisi JavaScript -->
                </div>

                <div class="data-table">
                    <div class="table-header">
                        <h3 class="table-title">Daftar Semua Paket</h3>
                        <input type="text" class="table-search" placeholder="Cari paket..." onkeyup="filterPackages(this.value)">
                    </div>
                    <div style="overflow-x: auto;">
                        <table id="packagesTable">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="selectAllPackages"></th>
                                    <th>Nama Paket</th>
                                    <th>Harga</th>
                                    <th>Status</th>
                                    <th>Tanggal Dibuat</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="packagesTableBody">
                                <!-- Data akan diisi JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- FACILITY PAGE (FASILITAS) -->
            <div id="facility-page" class="page-content">
                <div class="welcome-banner">
                    <h2>Manajemen Fasilitas</h2>
                    <p>Kelola fasilitas yang tersedia di area Gerbang Langit.</p>
                </div>

                <div class="action-section">
                    <h3 class="section-title">
                        <i class="fas fa-concierge-bell"></i>
                        Kelola Fasilitas
                    </h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="showAddFacilityForm()">
                            <i class="fas fa-plus"></i>
                            Tambah Fasilitas
                        </button>
                        <button class="btn btn-secondary" onclick="editSelectedFacility()">
                            <i class="fas fa-edit"></i>
                            Edit Fasilitas
                        </button>
                        <button class="btn btn-warning" onclick="maintenanceSelectedFacility()">
                            <i class="fas fa-wrench"></i>
                            Maintenance
                        </button>
                        <button class="btn btn-danger" onclick="deleteSelectedFacility()">
                            <i class="fas fa-trash"></i>
                            Hapus Fasilitas
                        </button>
                    </div>
                </div>

                <div id="facilityFormContainer" class="form-container" style="display: none;">
                    <h3 class="section-title">
                        <i class="fas fa-plus-circle"></i>
                        <span id="facilityFormTitle">Tambah Fasilitas Baru</span>
                    </h3>
                    <form id="facilityForm">
                        <input type="hidden" id="facilityId">
                        <div class="form-group">
                            <label class="form-label">Nama Fasilitas</label>
                            <input type="text" class="form-control" id="facilityName" placeholder="Contoh: Gazebo Panorama" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Kategori</label>
                                <select class="form-control" id="facilityCategory" required>
                                    <option value="">Pilih Kategori</option>
                                    <option value="akomodasi">Akomodasi</option>
                                    <option value="makanan">Makanan & Minuman</option>
                                    <option value="aktivitas">Aktivitas</option>
                                    <option value="keamanan">Keamanan</option>
                                    <option value="umum">Fasilitas Umum</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Status</label>
                                <select class="form-control" id="facilityStatus" required>
                                    <option value="active">Aktif</option>
                                    <option value="maintenance">Maintenance</option>
                                    <option value="inactive">Tidak Aktif</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Deskripsi</label>
                            <textarea class="form-control" id="facilityDescription" rows="4" placeholder="Deskripsi fasilitas..." required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Lokasi</label>
                            <input type="text" class="form-control" id="facilityLocation" placeholder="Contoh: Area Parkir Utama" required>
                        </div>
                        
                        <div class="form-buttons">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i>
                                Simpan Fasilitas
                            </button>
                            <button type="button" class="btn btn-secondary" onclick="hideFacilityForm()">
                                <i class="fas fa-times"></i>
                                Batal
                            </button>
                        </div>
                    </form>
                </div>

                <div class="data-table">
                    <div class="table-header">
                        <h3 class="table-title">Daftar Fasilitas</h3>
                        <input type="text" class="table-search" placeholder="Cari fasilitas..." onkeyup="filterFacilities(this.value)">
                    </div>
                    <div style="overflow-x: auto;">
                        <table id="facilitiesTable">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="selectAllFacilities"></th>
                                    <th>Nama Fasilitas</th>
                                    <th>Kategori</th>
                                    <th>Lokasi</th>
                                    <th>Deskripsi</th>
                                    <th>Status</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="facilitiesTableBody">
                                <!-- Data akan diisi JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- GALLERY PAGE (GALERI) -->
            <div id="gallery-page" class="page-content">
                <div class="welcome-banner">
                    <h2>Galeri Gerbang Langit</h2>
                    <p>Kelola koleksi foto dan gambar dari lokasi Gerbang Langit.</p>
                </div>

                <div class="action-section">
                    <h3 class="section-title">
                        <i class="fas fa-images"></i>
                        Kelola Galeri
                    </h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="showUploadPhotoForm()">
                            <i class="fas fa-upload"></i>
                            Upload Foto Baru
                        </button>
                        <button class="btn btn-secondary" onclick="createNewAlbum()">
                            <i class="fas fa-folder-plus"></i>
                            Buat Album Baru
                        </button>
                        <button class="btn btn-success" onclick="editSelectedPhoto()">
                            <i class="fas fa-edit"></i>
                            Edit Foto
                        </button>
                        <button class="btn btn-danger" onclick="deleteSelectedPhotos()">
                            <i class="fas fa-trash"></i>
                            Hapus Foto
                        </button>
                    </div>
                </div>

                <div id="uploadPhotoFormContainer" class="form-container" style="display: none;">
                    <h3 class="section-title">
                        <i class="fas fa-upload"></i>
                        Upload Foto Baru
                    </h3>
                    <form id="uploadPhotoForm">
                        <div class="form-group">
                            <label class="form-label">Judul Foto</label>
                            <input type="text" class="form-control" id="photoTitle" placeholder="Contoh: Sunset View" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Deskripsi</label>
                            <textarea class="form-control" id="photoDescription" rows="3" placeholder="Deskripsi foto..."></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Album</label>
                                <select class="form-control" id="photoAlbum" required>
                                    <option value="pemandangan">Pemandangan</option>
                                    <option value="aktivitas">Aktivitas</option>
                                    <option value="fasilitas">Fasilitas</option>
                                    <option value="lainnya">Lainnya</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Status</label>
                                <select class="form-control" id="photoStatus">
                                    <option value="active">Publik</option>
                                    <option value="pending">Draft</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Unggah Foto</label>
                            <div class="image-upload" onclick="document.getElementById('photoFile').click()">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <p>Klik untuk memilih foto atau seret ke sini</p>
                                <p style="font-size: 0.9rem; color: #7f8c8d;">Format: JPG, PNG, GIF (Max 5MB)</p>
                                <img id="photoPreview" class="image-preview" alt="Preview">
                            </div>
                            <input type="file" id="photoFile" accept="image/*" style="display: none;" onchange="previewPhoto(this)">
                            <div class="upload-progress" id="uploadProgress">
                                <div class="upload-progress-bar" id="uploadProgressBar"></div>
                            </div>
                        </div>
                        
                        <div class="form-buttons">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-upload"></i>
                                Upload Foto
                            </button>
                            <button type="button" class="btn btn-secondary" onclick="hideUploadPhotoForm()">
                                <i class="fas fa-times"></i>
                                Batal
                            </button>
                        </div>
                    </form>
                </div>

                <div class="gallery-container">
                    <h3 class="section-title">
                        <i class="fas fa-camera"></i>
                        Foto Terbaru
                    </h3>
                    <div class="gallery-grid" id="galleryGrid">
                        <!-- Data akan diisi JavaScript -->
                    </div>
                </div>

                <div class="data-table">
                    <div class="table-header">
                        <h3 class="table-title">Daftar Album Foto</h3>
                        <input type="text" class="table-search" placeholder="Cari album..." onkeyup="filterAlbums(this.value)">
                    </div>
                    <div style="overflow-x: auto;">
                        <table id="albumsTable">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="selectAllAlbums"></th>
                                    <th>Nama Album</th>
                                    <th>Jumlah Foto</th>
                                    <th>Tanggal Dibuat</th>
                                    <th>Status</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="albumsTableBody">
                                <!-- Data akan diisi JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- TESTIMONIAL PAGE (TESTIMONI) -->
            <div id="testimonial-page" class="page-content">
                <div class="welcome-banner">
                    <h2>Manajemen Testimoni</h2>
                    <p>Kelola testimoni dan ulasan dari pengunjung Gerbang Langit.</p>
                </div>

                <div class="action-section">
                    <h3 class="section-title">
                        <i class="fas fa-comment-dots"></i>
                        Kelola Testimoni
                    </h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="showAddTestimonialForm()">
                            <i class="fas fa-plus"></i>
                            Tambah Testimoni
                        </button>
                        <button class="btn btn-secondary" onclick="verifySelectedTestimonials()">
                            <i class="fas fa-check"></i>
                            Verifikasi Testimoni
                        </button>
                        <button class="btn btn-warning" onclick="editSelectedTestimonial()">
                            <i class="fas fa-edit"></i>
                            Edit Testimoni
                        </button>
                        <button class="btn btn-danger" onclick="deleteSelectedTestimonials()">
                            <i class="fas fa-trash"></i>
                            Hapus Testimoni
                        </button>
                    </div>
                </div>

                <div id="testimonialFormContainer" class="form-container" style="display: none;">
                    <h3 class="section-title">
                        <i class="fas fa-plus-circle"></i>
                        <span id="testimonialFormTitle">Tambah Testimoni Baru</span>
                    </h3>
                    <form id="testimonialForm">
                        <input type="hidden" id="testimonialId">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Nama Pengunjung</label>
                                <input type="text" class="form-control" id="testimonialName" placeholder="Contoh: Budi Santoso" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Email</label>
                                <input type="email" class="form-control" id="testimonialEmail" placeholder="budi@email.com">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Rating</label>
                            <div class="rating" id="testimonialRating">
                                <i class="fas fa-star" data-rating="1"></i>
                                <i class="fas fa-star" data-rating="2"></i>
                                <i class="fas fa-star" data-rating="3"></i>
                                <i class="fas fa-star" data-rating="4"></i>
                                <i class="fas fa-star" data-rating="5"></i>
                            </div>
                            <input type="hidden" id="testimonialRatingValue" value="5">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Testimoni</label>
                            <textarea class="form-control" id="testimonialText" rows="4" placeholder="Tulis testimoni di sini..." required></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Status</label>
                                <select class="form-control" id="testimonialStatus" required>
                                    <option value="active">Tampil</option>
                                    <option value="pending">Pending</option>
                                    <option value="inactive">Tidak Tampil</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Tanggal</label>
                                <input type="date" class="form-control" id="testimonialDate" required>
                            </div>
                        </div>
                        
                        <div class="form-buttons">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i>
                                Simpan Testimoni
                            </button>
                            <button type="button" class="btn btn-secondary" onclick="hideTestimonialForm()">
                                <i class="fas fa-times"></i>
                                Batal
                            </button>
                        </div>
                    </form>
                </div>

                <div class="testimonial-grid" id="testimonialGrid">
                    <!-- Data akan diisi JavaScript -->
                </div>

                <div class="data-table">
                    <div class="table-header">
                        <h3 class="table-title">Daftar Testimoni</h3>
                        <input type="text" class="table-search" placeholder="Cari testimoni..." onkeyup="filterTestimonials(this.value)">
                    </div>
                    <div style="overflow-x: auto;">
                        <table id="testimonialsTable">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="selectAllTestimonials"></th>
                                    <th>Nama</th>
                                    <th>Email</th>
                                    <th>Rating</th>
                                    <th>Testimoni</th>
                                    <th>Tanggal</th>
                                    <th>Status</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="testimonialsTableBody">
                                <!-- Data akan diisi JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- TOOL PAGE (TOOLS) -->
            <div id="tool-page" class="page-content">
                <div class="welcome-banner">
                    <h2>Tools Administrasi</h2>
                    <p>Berbagai tools untuk membantu administrasi dan pengelolaan Gerbang Langit.</p>
                </div>

                <div class="tools-grid">
                    <div class="tool-card" onclick="openTool('backup')">
                        <div class="tool-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <h3 class="tool-title">Backup Database</h3>
                        <p class="tool-desc">Backup seluruh data sistem ke file secure</p>
                    </div>

                    <div class="tool-card" onclick="openTool('export')">
                        <div class="tool-icon">
                            <i class="fas fa-file-export"></i>
                        </div>
                        <h3 class="tool-title">Export Data</h3>
                        <p class="tool-desc">Export data ke format Excel, PDF, atau CSV</p>
                    </div>

                    <div class="tool-card" onclick="openTool('report')">
                        <div class="tool-icon">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <h3 class="tool-title">Generate Report</h3>
                        <p class="tool-desc">Buat laporan statistik dan analisis</p>
                    </div>

                    <div class="tool-card" onclick="openTool('user')">
                        <div class="tool-icon">
                            <i class="fas fa-user-cog"></i>
                        </div>
                        <h3 class="tool-title">Manajemen User</h3>
                        <p class="tool-desc">Kelola akses dan peran pengguna</p>
                    </div>

                    <div class="tool-card" onclick="openTool('log')">
                        <div class="tool-icon">
                            <i class="fas fa-clipboard-list"></i>
                        </div>
                        <h3 class="tool-title">Activity Log</h3>
                        <p class="tool-desc">Lihat riwayat aktivitas sistem</p>
                    </div>

                    <div class="tool-card" onclick="openTool('settings')">
                        <div class="tool-icon">
                            <i class="fas fa-cogs"></i>
                        </div>
                        <h3 class="tool-title">System Settings</h3>
                        <p class="tool-desc">Konfigurasi pengaturan sistem</p>
                    </div>
                </div>

                <div class="form-container" id="toolContent">
                    <h3 class="section-title" id="toolTitle">
                        <i class="fas fa-tools"></i>
                        Pilih Tool
                    </h3>
                    <div id="toolDescription">
                        <p>Pilih salah satu tool di atas untuk memulai.</p>
                    </div>
                    <div id="toolForm">
                        <!-- Tool content akan diisi JavaScript -->
                    </div>
                </div>

                <div class="hosting-info">
                    <div class="hosting-title">Informasi Sistem</div>
                    <div class="hosting-value">AA springgreen-donkey-758730.hosting</div>
                    <div style="margin-top: 10px; font-size: 0.9rem; color: #7f8c8d;">
                        Status: <span style="color: var(--success-color); font-weight: 600;">Online</span> | 
                        Versi: 2.1.0 | 
                        Pengunjung Hari Ini: 124 | 
                        Terakhir Backup: <span id="lastBackupDate">15 Nov 2023</span>
                    </div>
                </div>
            </div>

            <!-- FOOTER -->
            <div class="footer">
                <p>&copy; 2025 Gerbang Langit. All rights reserved.</p>
                <p style="margin-top: 5px; font-size: 0.8rem;">Admin Dashboard v2.1 | Terakhir diperbarui: <span id="lastUpdateDate">15 November 2023</span></p>
            </div>
        </div>
    </div>

    <!-- LOGOUT MODAL -->
    <div class="modal" id="logoutModal">
        <div class="modal-content">
            <div class="modal-icon">
                <i class="fas fa-sign-out-alt"></i>
            </div>
            <h3 class="modal-title">Konfirmasi Logout</h3>
            <p class="modal-message">Apakah Anda yakin ingin keluar dari dashboard admin?</p>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-cancel" id="cancelLogout">Batal</button>
                <button class="modal-btn modal-btn-confirm" id="confirmLogout">Ya, Logout</button>
            </div>
        </div>
    </div>

    <!-- NOTIFICATION -->
    <div id="notification" class="notification" style="display: none;"></div>

    <script>
        // ===== DATA MANAGEMENT =====
        let bookingsData = [];
        let packagesData = [];
        let facilitiesData = [];
        let testimonialsData = [];
        let galleryData = [];
        let selectedFacilities = new Set();
        let selectedTestimonials = new Set();
        let selectedGalleryItems = new Set();
        let selectedAlbums = new Set();

        // Load data from localStorage
        function loadData() {
            bookingsData = JSON.parse(localStorage.getItem('gerbang_langit_bookings') || '[]');
            packagesData = JSON.parse(localStorage.getItem('gerbang_langit_packages') || '[]');
            facilitiesData = JSON.parse(localStorage.getItem('gerbang_langit_facilities') || '[]');
            testimonialsData = JSON.parse(localStorage.getItem('gerbang_langit_testimonials') || '[]');
            galleryData = JSON.parse(localStorage.getItem('gerbang_langit_gallery') || '[]');
            
            // Initialize default data if empty
            if (packagesData.length === 0) {
                packagesData = [
                    {
                        id: 1,
                        nama: 'Paket reguler',
                        harga: 10000,
                        deskripsi: 'api unggun  camp  Makan Pagi',
                        gambar: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                        badge: 'BESTSELLER',
                        status: 'active',
                        created_at: new Date().toISOString()
                    }
                ];
                localStorage.setItem('gerbang_langit_packages', JSON.stringify(packagesData));
            }
            
            if (facilitiesData.length === 0) {
                facilitiesData = [
                    {
                        id: 1,
                        nama: 'Gazebo Panorama',
                        kategori: 'akomodasi',
                        lokasi: 'Puncak Bukit',
                        deskripsi: 'Gazebo dengan view 360',
                        status: 'active',
                        created_at: new Date().toISOString()
                    },
                    {
                        id: 2,
                        nama: 'Warung Makan',
                        kategori: 'makanan',
                        lokasi: 'Area Parkir',
                        deskripsi: 'Warung makanan tradisional',
                        status: 'active',
                        created_at: new Date().toISOString()
                    }
                ];
                localStorage.setItem('gerbang_langit_facilities', JSON.stringify(facilitiesData));
            }
            
            if (testimonialsData.length === 0) {
                testimonialsData = [
                    {
                        id: 1,
                        nama: 'Budi Santoso',
                        email: 'budi@email.com',
                        rating: 5,
                        testimoni: 'Pengalaman yang luar biasa! Pemandangan sunset di Gerbang Langit adalah yang terbaik yang pernah saya lihat.',
                        status: 'active',
                        tanggal: '2023-11-15'
                    },
                    {
                        id: 2,
                        nama: 'Siti Rahayu',
                        email: 'siti@email.com',
                        rating: 4.5,
                        testimoni: 'Paket romantisnya sempurna untuk anniversary kami. Dekorasi dan makanan sangat special.',
                        status: 'pending',
                        tanggal: '2023-11-14'
                    }
                ];
                localStorage.setItem('gerbang_langit_testimonials', JSON.stringify(testimonialsData));
            }
            
            if (galleryData.length === 0) {
                galleryData = [
                    {
                        id: 1,
                        judul: 'Sunset View',
                        deskripsi: 'Pemandangan sunset dari puncak',
                        album: 'pemandangan',
                        gambar: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb',
                        status: 'active',
                        tanggal: '2023-11-15'
                    },
                    {
                        id: 2,
                        judul: 'Spot Foto Terbaik',
                        deskripsi: 'Spot foto favorit pengunjung',
                        album: 'aktivitas',
                        gambar: 'https://images.unsplash.com/photo-1519681393784-d120267933ba',
                        status: 'active',
                        tanggal: '2023-11-14'
                    }
                ];
                localStorage.setItem('gerbang_langit_gallery', JSON.stringify(galleryData));
            }
            
            updateDashboardStats();
            renderOrdersTable();
            renderPackages();
            renderFacilitiesTable();
            renderTestimonials();
            renderGallery();
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('gerbang_langit_bookings', JSON.stringify(bookingsData));
            localStorage.setItem('gerbang_langit_packages', JSON.stringify(packagesData));
            localStorage.setItem('gerbang_langit_facilities', JSON.stringify(facilitiesData));
            localStorage.setItem('gerbang_langit_testimonials', JSON.stringify(testimonialsData));
            localStorage.setItem('gerbang_langit_gallery', JSON.stringify(galleryData));
        }

        // ===== DASHBOARD FUNCTIONS =====
        function updateDashboardStats() {
            // Update orders count
            const totalOrders = bookingsData.length;
            const activeOrders = bookingsData.filter(b => b.status === 'active' || b.status === 'confirmed').length;
            document.getElementById('totalOrders').textContent = totalOrders;
            document.getElementById('orderSubtext').textContent = `${activeOrders} pesanan aktif`;
            
            // Update packages count
            const totalPackages = packagesData.length;
            const activePackages = packagesData.filter(p => p.status === 'active').length;
            document.getElementById('totalPackages').textContent = totalPackages;
            document.getElementById('packageSubtext').textContent = `${activePackages} paket aktif`;
            
            // Update facilities count
            const totalFacilities = facilitiesData.length;
            const activeFacilities = facilitiesData.filter(f => f.status === 'active').length;
            document.getElementById('totalFacilities').textContent = totalFacilities;
            
            // Update testimonials count
            const totalTestimonials = testimonialsData.length;
            const activeTestimonials = testimonialsData.filter(t => t.status === 'active').length;
            document.getElementById('totalTestimonials').textContent = totalTestimonials;
            
            // Update gallery count
            const totalGallery = galleryData.length;
            document.getElementById('totalGallery').textContent = totalGallery;
        }

        // ===== NOTIFICATION SYSTEM =====
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            notification.className = `notification ${type}`;
            notification.style.display = 'flex';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // ===== FACILITY MANAGEMENT =====
        function renderFacilitiesTable() {
            const tableBody = document.getElementById('facilitiesTableBody');
            
            tableBody.innerHTML = facilitiesData.map(facility => `
                <tr>
                    <td><input type="checkbox" value="${facility.id}" onchange="toggleFacilitySelection(${facility.id}, this.checked)"></td>
                    <td>${escapeHtml(facility.nama)}</td>
                    <td>${getCategoryName(facility.kategori)}</td>
                    <td>${escapeHtml(facility.lokasi)}</td>
                    <td>${escapeHtml(facility.deskripsi)}</td>
                    <td><span class="status ${facility.status}">${getStatusText(facility.status)}</span></td>
                    <td>
                        <button class="btn" style="padding: 5px 10px; font-size: 0.9rem; min-width: auto;" onclick="editFacility(${facility.id})">Edit</button>
                    </td>
                </tr>
            `).join('');
        }

        function getCategoryName(category) {
            const categories = {
                'akomodasi': 'Akomodasi',
                'makanan': 'Makanan & Minuman',
                'aktivitas': 'Aktivitas',
                'keamanan': 'Keamanan',
                'umum': 'Fasilitas Umum'
            };
            return categories[category] || category;
        }

        function showAddFacilityForm() {
            document.getElementById('facilityFormTitle').textContent = 'Tambah Fasilitas Baru';
            document.getElementById('facilityFormContainer').style.display = 'block';
            document.getElementById('facilityForm').reset();
            document.getElementById('facilityId').value = '';
            document.getElementById('facilityForm').onsubmit = function(e) {
                e.preventDefault();
                saveFacility();
            };
        }

        function hideFacilityForm() {
            document.getElementById('facilityFormContainer').style.display = 'none';
        }

        function saveFacility() {
            const facilityId = document.getElementById('facilityId').value;
            const facilityData = {
                nama: document.getElementById('facilityName').value,
                kategori: document.getElementById('facilityCategory').value,
                lokasi: document.getElementById('facilityLocation').value,
                deskripsi: document.getElementById('facilityDescription').value,
                status: document.getElementById('facilityStatus').value,
                updated_at: new Date().toISOString()
            };
            
            if (facilityId) {
                // Update existing facility
                const index = facilitiesData.findIndex(f => f.id == facilityId);
                if (index !== -1) {
                    facilitiesData[index] = { ...facilitiesData[index], ...facilityData };
                    showNotification('Fasilitas berhasil diperbarui!', 'success');
                }
            } else {
                // Add new facility
                facilityData.id = facilitiesData.length > 0 ? Math.max(...facilitiesData.map(f => f.id)) + 1 : 1;
                facilityData.created_at = new Date().toISOString();
                facilitiesData.push(facilityData);
                showNotification('Fasilitas berhasil ditambahkan!', 'success');
            }
            
            saveData();
            renderFacilitiesTable();
            updateDashboardStats();
            hideFacilityForm();
        }

        function editFacility(id) {
            const facility = facilitiesData.find(f => f.id == id);
            if (facility) {
                document.getElementById('facilityFormTitle').textContent = 'Edit Fasilitas';
                document.getElementById('facilityId').value = facility.id;
                document.getElementById('facilityName').value = facility.nama;
                document.getElementById('facilityCategory').value = facility.kategori;
                document.getElementById('facilityLocation').value = facility.lokasi;
                document.getElementById('facilityDescription').value = facility.deskripsi;
                document.getElementById('facilityStatus').value = facility.status;
                
                document.getElementById('facilityFormContainer').style.display = 'block';
                document.getElementById('facilityForm').onsubmit = function(e) {
                    e.preventDefault();
                    saveFacility();
                };
            }
        }

        function toggleFacilitySelection(facilityId, isChecked) {
            if (isChecked) {
                selectedFacilities.add(facilityId);
            } else {
                selectedFacilities.delete(facilityId);
            }
        }

        function selectAllFacilities(checked) {
            selectedFacilities.clear();
            const checkboxes = document.querySelectorAll('#facilitiesTableBody input[type="checkbox"]');
            checkboxes.forEach(cb => {
                cb.checked = checked;
                if (checked) {
                    selectedFacilities.add(parseInt(cb.value));
                }
            });
        }

        function deleteSelectedFacility() {
            if (selectedFacilities.size === 0) {
                showNotification('Pilih fasilitas terlebih dahulu!', 'error');
                return;
            }
            
            if (confirm(`Hapus ${selectedFacilities.size} fasilitas terpilih?`)) {
                facilitiesData = facilitiesData.filter(f => !selectedFacilities.has(f.id));
                selectedFacilities.clear();
                saveData();
                renderFacilitiesTable();
                updateDashboardStats();
                showNotification('Fasilitas berhasil dihapus!', 'success');
            }
        }

        function maintenanceSelectedFacility() {
            if (selectedFacilities.size === 0) {
                showNotification('Pilih fasilitas terlebih dahulu!', 'error');
                return;
            }
            
            if (confirm(`Ubah ${selectedFacilities.size} fasilitas terpilih ke status maintenance?`)) {
                facilitiesData.forEach(facility => {
                    if (selectedFacilities.has(facility.id)) {
                        facility.status = 'maintenance';
                    }
                });
                saveData();
                renderFacilitiesTable();
                showNotification('Status fasilitas berhasil diubah!', 'success');
            }
        }

        function filterFacilities(searchTerm) {
            const rows = document.querySelectorAll('#facilitiesTableBody tr');
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm.toLowerCase()) ? '' : 'none';
            });
        }

        // ===== GALLERY MANAGEMENT =====
    // ===== GALLERY MANAGEMENT =====
function renderGallery() {
    const galleryGrid = document.getElementById('galleryGrid');
    const recentPhotos = galleryData.slice(-6).reverse();
    
    galleryGrid.innerHTML = recentPhotos.map(photo => `
        <div class="gallery-item" data-id="${photo.id}">
            <img src="${photo.gambar}" alt="${photo.judul}" class="gallery-img" onerror="this.src='https://images.unsplash.com/photo-1475924156734-496f6cac6ec1?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'">
            <div class="gallery-overlay">
                <div class="gallery-title">${escapeHtml(photo.judul)}</div>
                <div class="gallery-date">${formatDate(photo.tanggal)}</div>
                <div style="margin-top: 5px; font-size: 0.8rem;">
                    <span class="status ${photo.status === 'active' ? 'active' : 'pending'}">${photo.status === 'active' ? 'Publik' : 'Draft'}</span>
                </div>
            </div>
            <div class="gallery-actions">
                <button class="btn" style="padding: 5px; min-width: auto; background: rgba(255,255,255,0.9);" onclick="editPhoto(${photo.id})" title="Edit">
                    <i class="fas fa-edit"></i>
                </button>
                <button class="btn" style="padding: 5px; min-width: auto; background: rgba(255,255,255,0.9);" onclick="deletePhoto(${photo.id})" title="Hapus">
                    <i class="fas fa-trash"></i>
                </button>
                <button class="btn" style="padding: 5px; min-width: auto; background: rgba(255,255,255,0.9);" onclick="previewPhotoFull(${photo.id})" title="Preview">
                    <i class="fas fa-eye"></i>
                </button>
            </div>
        </div>
    `).join('');
    
    // Render albums table
    const albumsTableBody = document.getElementById('albumsTableBody');
    const albums = getAlbumsFromPhotos();
    
    albumsTableBody.innerHTML = albums.map(album => `
        <tr>
            <td><input type="checkbox" value="${album.name}" onchange="toggleAlbumSelection('${album.name}', this.checked)"></td>
            <td>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <div style="width: 40px; height: 40px; border-radius: 5px; overflow: hidden;">
                        <img src="${getAlbumThumbnail(album.name)}" alt="${getAlbumName(album.name)}" style="width: 100%; height: 100%; object-fit: cover;">
                    </div>
                    <span>${getAlbumName(album.name)}</span>
                </div>
            </td>
            <td>${album.count} foto</td>
            <td>${formatDate(new Date().toISOString())}</td>
            <td><span class="status active">Publik</span></td>
            <td>
                <button class="btn" style="padding: 5px 10px; font-size: 0.9rem; min-width: auto; margin-right: 5px;" onclick="viewAlbum('${album.name}')">
                    <i class="fas fa-eye"></i>
                </button>
                <button class="btn btn-danger" style="padding: 5px 10px; font-size: 0.9rem; min-width: auto;" onclick="deleteAlbum('${album.name}')">
                    <i class="fas fa-trash"></i>
                </button>
            </td>
        </tr>
    `).join('');
}

function getAlbumThumbnail(albumName) {
    // Cari foto pertama dalam album untuk thumbnail
    const photo = galleryData.find(p => p.album === albumName);
    return photo ? photo.gambar : 'https://images.unsplash.com/photo-1475924156734-496f6cac6ec1?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80';
}

function getAlbumsFromPhotos() {
    const albums = {};
    galleryData.forEach(photo => {
        if (!albums[photo.album]) {
            albums[photo.album] = 0;
        }
        albums[photo.album]++;
    });
    
    return Object.keys(albums).map(name => ({
        name,
        count: albums[name]
    }));
}

function getAlbumName(albumKey) {
    const albumNames = {
        'pemandangan': ' Pemandangan Sunset',
        'aktivitas': ' Spot Foto Terbaik',
        'fasilitas': ' Jalur Pendakian',
        'camping': ' Area Camping',
        'kuliner': ' Kuliner Lokal',
        'event': ' Event & Aktivitas',
        'lainnya': ' Lainnya'
    };
    return albumNames[albumKey] || albumKey;
}

function showUploadPhotoForm() {
    document.getElementById('uploadPhotoFormTitle').textContent = 'Upload Foto Baru';
    document.getElementById('uploadPhotoFormContainer').style.display = 'block';
    document.getElementById('uploadPhotoForm').reset();
    document.getElementById('photoId').value = '';
    document.getElementById('photoPreview').style.display = 'none';
    document.getElementById('photoImageData').value = '';
    document.getElementById('uploadProgress').style.display = 'none';
    
    // Set default album options
    const albumSelect = document.getElementById('photoAlbum');
    albumSelect.innerHTML = `
        <option value="pemandangan"> Pemandangan Sunset</option>
        <option value="aktivitas"> Spot Foto Terbaik</option>
        <option value="fasilitas"> Jalur Pendakian</option>
        <option value="camping"> Area Camping</option>
        <option value="kuliner"> Kuliner Lokal</option>
        <option value="event"> Event & Aktivitas</option>
        <option value="lainnya"> Lainnya</option>
    `;
    
    // Tambah opsi custom album jika ada
    const albums = getAlbumsFromPhotos();
    albums.forEach(album => {
        if (!albumSelect.querySelector(`[value="${album.name}"]`)) {
            const option = document.createElement('option');
            option.value = album.name;
            option.textContent = ` ${album.name}`;
            albumSelect.appendChild(option);
        }
    });
    
    document.getElementById('uploadPhotoForm').onsubmit = function(e) {
        e.preventDefault();
        savePhoto();
    };
    
    // Scroll ke form
    document.getElementById('uploadPhotoFormContainer').scrollIntoView({ behavior: 'smooth' });
}

function hideUploadPhotoForm() {
    document.getElementById('uploadPhotoFormContainer').style.display = 'none';
}

function previewPhoto(input) {
    const preview = document.getElementById('photoPreview');
    const imageData = document.getElementById('photoImageData');
    
    if (input.files && input.files[0]) {
        const file = input.files[0];
        
        // Validasi ukuran file (max 5MB)
        if (file.size > 5 * 1024 * 1024) {
            showNotification('Ukuran file terlalu besar. Maksimal 5MB', 'error');
            input.value = '';
            return;
        }
        
        // Validasi tipe file
        if (!file.type.match('image.*')) {
            showNotification('File harus berupa gambar', 'error');
            input.value = '';
            return;
        }
        
        const reader = new FileReader();
        reader.onload = function(e) {
            preview.src = e.target.result;
            preview.style.display = 'block';
            imageData.value = e.target.result; // Simpan sebagai data URL
        };
        reader.readAsDataURL(file);
    }
}

function savePhoto() {
    const photoId = document.getElementById('photoId').value;
    const title = document.getElementById('photoTitle').value;
    const description = document.getElementById('photoDescription').value;
    const album = document.getElementById('photoAlbum').value;
    const status = document.getElementById('photoStatus').value;
    const imageData = document.getElementById('photoImageData').value;
    
    // Validasi
    if (!title) {
        showNotification('Judul foto harus diisi', 'error');
        return;
    }
    
    if (!imageData && !photoId) {
        showNotification('Harap pilih foto untuk diupload', 'error');
        return;
    }
    
    // Simulate upload progress
    const progressBar = document.getElementById('uploadProgressBar');
    const progressContainer = document.getElementById('uploadProgress');
    progressContainer.style.display = 'block';
    progressBar.style.width = '0%';
    
    let progress = 0;
    const interval = setInterval(() => {
        progress += 10;
        progressBar.style.width = progress + '%';
        
        if (progress >= 100) {
            clearInterval(interval);
            
            // Save photo data
            const photoData = {
                judul: title,
                deskripsi: description,
                album: album,
                gambar: imageData,
                status: status,
                tanggal: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            
            if (photoId) {
                // Update existing photo
                const index = galleryData.findIndex(p => p.id == photoId);
                if (index !== -1) {
                    // Jika tidak ada gambar baru, pertahankan gambar lama
                    if (!imageData && galleryData[index].gambar) {
                        photoData.gambar = galleryData[index].gambar;
                    }
                    galleryData[index] = { ...galleryData[index], ...photoData };
                    showNotification('Foto berhasil diperbarui!', 'success');
                }
            } else {
                // Add new photo
                photoData.id = galleryData.length > 0 ? Math.max(...galleryData.map(p => p.id)) + 1 : 1;
                photoData.created_at = new Date().toISOString();
                galleryData.push(photoData);
                showNotification('Foto berhasil diupload!', 'success');
            }
            
            saveData();
            renderGallery();
            updateDashboardStats();
            hideUploadPhotoForm();
            
            // Hide progress bar after 1 second
            setTimeout(() => {
                progressContainer.style.display = 'none';
            }, 1000);
        }
    }, 100);
}

function deletePhoto(id) {
    if (confirm('Apakah Anda yakin ingin menghapus foto ini?')) {
        galleryData = galleryData.filter(p => p.id !== id);
        saveData();
        renderGallery();
        updateDashboardStats();
        showNotification('Foto berhasil dihapus!', 'success');
    }
}

function editPhoto(id) {
    const photo = galleryData.find(p => p.id === id);
    if (photo) {
        document.getElementById('uploadPhotoFormTitle').textContent = 'Edit Foto';
        document.getElementById('photoId').value = photo.id;
        document.getElementById('photoTitle').value = photo.judul;
        document.getElementById('photoDescription').value = photo.deskripsi;
        document.getElementById('photoAlbum').value = photo.album;
        document.getElementById('photoStatus').value = photo.status;
        
        // Tampilkan preview gambar yang sudah ada
        if (photo.gambar) {
            const preview = document.getElementById('photoPreview');
            const imageData = document.getElementById('photoImageData');
            
            preview.src = photo.gambar;
            preview.style.display = 'block';
            imageData.value = photo.gambar;
        } else {
            document.getElementById('photoPreview').style.display = 'none';
        }
        
        // Set default album options
        const albumSelect = document.getElementById('photoAlbum');
        albumSelect.innerHTML = `
            <option value="pemandangan"> Pemandangan Sunset</option>
            <option value="aktivitas"> Spot Foto Terbaik</option>
            <option value="fasilitas"> Jalur Pendakian</option>
            <option value="camping"> Area Camping</option>
            <option value="kuliner"> Kuliner Lokal</option>
            <option value="event"> Event & Aktivitas</option>
            <option value="lainnya"> Lainnya</option>
        `;
        
        // Tambah opsi custom album jika ada
        const albums = getAlbumsFromPhotos();
        albums.forEach(album => {
            if (!albumSelect.querySelector(`[value="${album.name}"]`)) {
                const option = document.createElement('option');
                option.value = album.name;
                option.textContent = ` ${album.name}`;
                albumSelect.appendChild(option);
            }
        });
        
        // Set nilai album
        albumSelect.value = photo.album;
        
        showUploadPhotoForm();
    }
}

function createNewAlbum() {
    const albumName = prompt('Masukkan nama album baru:', 'Album Baru');
    if (albumName && albumName.trim() !== '') {
        // Tambah album baru ke select option
        const albumSelect = document.getElementById('photoAlbum');
        const option = document.createElement('option');
        option.value = albumName.toLowerCase().replace(/\s+/g, '_');
        option.textContent = ` ${albumName}`;
        albumSelect.appendChild(option);
        
        showNotification(`Album "${albumName}" berhasil dibuat!`, 'success');
    }
}

function deleteSelectedPhotos() {
    const checkboxes = document.querySelectorAll('#galleryGrid input[type="checkbox"]');
    const selectedPhotos = [];
    
    checkboxes.forEach(cb => {
        if (cb.checked) {
            selectedPhotos.push(parseInt(cb.value));
        }
    });
    
    if (selectedPhotos.length === 0) {
        showNotification('Pilih foto terlebih dahulu!', 'error');
        return;
    }
    
    if (confirm(`Hapus ${selectedPhotos.length} foto terpilih?`)) {
        galleryData = galleryData.filter(p => !selectedPhotos.includes(p.id));
        selectedGalleryItems.clear();
        saveData();
        renderGallery();
        updateDashboardStats();
        showNotification(`${selectedPhotos.length} foto berhasil dihapus!`, 'success');
    }
}

function editSelectedPhoto() {
    const checkboxes = document.querySelectorAll('#galleryGrid input[type="checkbox"]');
    const selectedPhotos = [];
    
    checkboxes.forEach(cb => {
        if (cb.checked) {
            selectedPhotos.push(parseInt(cb.value));
        }
    });
    
    if (selectedPhotos.length === 0) {
        showNotification('Pilih foto terlebih dahulu!', 'error');
        return;
    }
    
    if (selectedPhotos.length > 1) {
        showNotification('Silakan pilih hanya satu foto untuk diedit', 'info');
        return;
    }
    
    editPhoto(selectedPhotos[0]);
}

function toggleAlbumSelection(albumName, isChecked) {
    if (isChecked) {
        selectedAlbums.add(albumName);
    } else {
        selectedAlbums.delete(albumName);
    }
}

function viewAlbum(albumName) {
    const albumPhotos = galleryData.filter(p => p.album === albumName);
    const albumNameDisplay = getAlbumName(albumName);
    
    // Buat modal untuk menampilkan album
    const modalContent = `
        <div style="text-align: center;">
            <h3 style="color: var(--primary-color); margin-bottom: 20px;">${albumNameDisplay}</h3>
            <p style="color: #7f8c8d; margin-bottom: 20px;">Total ${albumPhotos.length} foto</p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px; margin-bottom: 20px; max-height: 400px; overflow-y: auto;">
                ${albumPhotos.map(photo => `
                    <div style="position: relative; border-radius: 8px; overflow: hidden; box-shadow: 0 3px 10px rgba(0,0,0,0.1);">
                        <img src="${photo.gambar}" alt="${escapeHtml(photo.judul)}" style="width: 100%; height: 120px; object-fit: cover;">
                        <div style="padding: 10px; background: white;">
                            <div style="font-weight: bold; font-size: 0.9rem; margin-bottom: 5px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">${escapeHtml(photo.judul)}</div>
                            <div style="font-size: 0.8rem; color: #7f8c8d;">${formatDate(photo.tanggal)}</div>
                        </div>
                    </div>
                `).join('')}
            </div>
            
            <div style="display: flex; gap: 10px; justify-content: center;">
                <button class="btn btn-primary" onclick="editAlbum('${albumName}')">
                    <i class="fas fa-edit"></i> Edit Album
                </button>
                <button class="btn btn-secondary" onclick="document.querySelector('.modal').classList.remove('active')">
                    <i class="fas fa-times"></i> Tutup
                </button>
            </div>
        </div>
    `;
    
    // Buat modal preview
    const modal = document.createElement('div');
    modal.className = 'modal active';
    modal.innerHTML = `
        <div class="modal-content" style="max-width: 800px;">
            <div style="position: absolute; top: 15px; right: 15px;">
                <button onclick="this.parentElement.parentElement.parentElement.classList.remove('active')" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #7f8c8d;">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            ${modalContent}
        </div>
    `;
    
    document.body.appendChild(modal);
    
    // Tambahkan event listener untuk menutup modal
    modal.addEventListener('click', function(e) {
        if (e.target === modal) {
            modal.classList.remove('active');
            setTimeout(() => modal.remove(), 300);
        }
    });
}

function editAlbum(albumName) {
    const newName = prompt('Edit nama album:', getAlbumName(albumName));
    if (newName && newName.trim() !== '' && newName !== getAlbumName(albumName)) {
        // Update nama album di semua foto
        galleryData.forEach(photo => {
            if (photo.album === albumName) {
                photo.album = newName.toLowerCase().replace(/\s+/g, '_');
            }
        });
        
        saveData();
        renderGallery();
        showNotification('Nama album berhasil diperbarui!', 'success');
    }
}

function deleteAlbum(albumName) {
    if (confirm(`Apakah Anda yakin ingin menghapus album "${getAlbumName(albumName)}"?`)) {
        // Hapus semua foto dalam album
        galleryData = galleryData.filter(p => p.album !== albumName);
        saveData();
        renderGallery();
        updateDashboardStats();
        showNotification('Album berhasil dihapus!', 'success');
    }
}

function filterAlbums(searchTerm) {
    const rows = document.querySelectorAll('#albumsTableBody tr');
    rows.forEach(row => {
        const text = row.textContent.toLowerCase();
        row.style.display = text.includes(searchTerm.toLowerCase()) ? '' : 'none';
    });
}

function previewPhotoFull(id) {
    const photo = galleryData.find(p => p.id === id);
    if (photo) {
        const modalContent = `
            <div style="text-align: center;">
                <h3 style="color: var(--primary-color); margin-bottom: 15px;">${escapeHtml(photo.judul)}</h3>
                <img src="${photo.gambar}" alt="${escapeHtml(photo.judul)}" style="width: 100%; max-height: 400px; object-fit: contain; border-radius: 8px; margin-bottom: 15px;">
                <div style="text-align: left; margin-bottom: 15px;">
                    <p><strong>Deskripsi:</strong> ${escapeHtml(photo.deskripsi || 'Tidak ada deskripsi')}</p>
                    <p><strong>Album:</strong> ${getAlbumName(photo.album)}</p>
                    <p><strong>Tanggal:</strong> ${formatDate(photo.tanggal)}</p>
                    <p><strong>Status:</strong> ${photo.status === 'active' ? 'Publik' : 'Draft'}</p>
                </div>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button class="btn btn-primary" onclick="editPhoto(${photo.id}); document.querySelector('.modal').classList.remove('active');">
                        <i class="fas fa-edit"></i> Edit
                    </button>
                    <button class="btn btn-secondary" onclick="document.querySelector('.modal').classList.remove('active')">
                        <i class="fas fa-times"></i> Tutup
                    </button>
                </div>
            </div>
        `;
        
        // Buat modal preview
        const modal = document.createElement('div');
        modal.className = 'modal active';
        modal.innerHTML = `
            <div class="modal-content" style="max-width: 700px;">
                <div style="position: absolute; top: 15px; right: 15px;">
                    <button onclick="this.parentElement.parentElement.parentElement.classList.remove('active')" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #7f8c8d;">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                ${modalContent}
            </div>
        `;
        
        document.body.appendChild(modal);
        
        // Tambahkan event listener untuk menutup modal
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                modal.classList.remove('active');
                setTimeout(() => modal.remove(), 300);
            }
        });
    }
}

// Perbarui form upload foto di HTML
function updateGalleryFormHTML() {
    const uploadFormContainer = document.getElementById('uploadPhotoFormContainer');
    if (uploadFormContainer) {
        uploadFormContainer.innerHTML = `
            <h3 class="section-title">
                <i class="fas fa-upload"></i>
                <span id="uploadPhotoFormTitle">Upload Foto Baru</span>
            </h3>
            <form id="uploadPhotoForm">
                <input type="hidden" id="photoId">
                <input type="hidden" id="photoImageData">
                
                <div class="form-group">
                    <label class="form-label">Judul Foto</label>
                    <input type="text" class="form-control" id="photoTitle" placeholder="Contoh: Sunset View" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Deskripsi</label>
                    <textarea class="form-control" id="photoDescription" rows="3" placeholder="Deskripsi foto..."></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Album</label>
                        <div style="display: flex; gap: 10px;">
                            <select class="form-control" id="photoAlbum" required style="flex: 1;"></select>
                            <button type="button" class="btn btn-secondary" onclick="createNewAlbum()" style="min-width: auto;">
                                <i class="fas fa-folder-plus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <select class="form-control" id="photoStatus">
                            <option value="active">Publik</option>
                            <option value="pending">Draft</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Unggah Foto</label>
                    <div class="image-upload-area" onclick="document.getElementById('photoFile').click()">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Klik untuk memilih foto</p>
                        <p class="image-size-info">Format: JPG, PNG, GIF (Max 5MB)</p>
                    </div>
                    <div style="text-align: center; margin-top: 15px;">
                        <img id="photoPreview" class="package-image-preview" alt="Preview" style="display: none;">
                    </div>
                    <input type="file" id="photoFile" accept="image/*" style="display: none;" onchange="previewPhoto(this)">
                    <div class="upload-progress" id="uploadProgress">
                        <div class="upload-progress-bar" id="uploadProgressBar"></div>
                    </div>
                </div>
                
                <div class="form-buttons">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-upload"></i>
                        Simpan Foto
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="hideUploadPhotoForm()">
                        <i class="fas fa-times"></i>
                        Batal
                    </button>
                </div>
            </form>
        `;
    }
}

// Panggil fungsi untuk update form saat halaman dimuat
document.addEventListener('DOMContentLoaded', function() {
    updateGalleryFormHTML();
});

        // ===== TESTIMONIAL MANAGEMENT =====
        function renderTestimonials() {
            // Render testimonial grid
            const testimonialGrid = document.getElementById('testimonialGrid');
            const activeTestimonials = testimonialsData.filter(t => t.status === 'active');
            
            testimonialGrid.innerHTML = activeTestimonials.map(testimonial => `
                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <div class="testimonial-avatar">${getInitials(testimonial.nama)}</div>
                        <div class="testimonial-info">
                            <h4>${escapeHtml(testimonial.nama)}</h4>
                            <div class="testimonial-rating">
                                ${renderStars(testimonial.rating)}
                            </div>
                        </div>
                    </div>
                    <p class="testimonial-text">"${escapeHtml(testimonial.testimoni)}"</p>
                </div>
            `).join('');
            
            // Render testimonials table
            const tableBody = document.getElementById('testimonialsTableBody');
            
            tableBody.innerHTML = testimonialsData.map(testimonial => `
                <tr>
                    <td><input type="checkbox" value="${testimonial.id}" onchange="toggleTestimonialSelection(${testimonial.id}, this.checked)"></td>
                    <td>${escapeHtml(testimonial.nama)}</td>
                    <td>${testimonial.email}</td>
                    <td>${testimonial.rating}/5</td>
                    <td>${truncateText(testimonial.testimoni, 50)}</td>
                    <td>${formatDate(testimonial.tanggal)}</td>
                    <td><span class="status ${testimonial.status}">${getStatusText(testimonial.status)}</span></td>
                    <td>
                        <button class="btn" style="padding: 5px 10px; font-size: 0.9rem; min-width: auto;" onclick="editTestimonial(${testimonial.id})">Edit</button>
                    </td>
                </tr>
            `).join('');
        }

        function renderStars(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= Math.floor(rating)) {
                    stars += '<i class="fas fa-star filled"></i>';
                } else if (i === Math.ceil(rating) && rating % 1 !== 0) {
                    stars += '<i class="fas fa-star-half-alt filled"></i>';
                } else {
                    stars += '<i class="fas fa-star"></i>';
                }
            }
            return stars;
        }

        function getInitials(name) {
            return name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
        }

        function showAddTestimonialForm() {
            document.getElementById('testimonialFormTitle').textContent = 'Tambah Testimoni Baru';
            document.getElementById('testimonialFormContainer').style.display = 'block';
            document.getElementById('testimonialForm').reset();
            document.getElementById('testimonialId').value = '';
            document.getElementById('testimonialDate').valueAsDate = new Date();
            
            // Setup rating stars
            setupRatingStars();
            
            document.getElementById('testimonialForm').onsubmit = function(e) {
                e.preventDefault();
                saveTestimonial();
            };
        }

        function hideTestimonialForm() {
            document.getElementById('testimonialFormContainer').style.display = 'none';
        }

        function setupRatingStars() {
            const stars = document.querySelectorAll('#testimonialRating i');
            stars.forEach(star => {
                star.addEventListener('click', function() {
                    const rating = parseInt(this.getAttribute('data-rating'));
                    document.getElementById('testimonialRatingValue').value = rating;
                    
                    stars.forEach(s => {
                        const sRating = parseInt(s.getAttribute('data-rating'));
                        if (sRating <= rating) {
                            s.classList.add('filled');
                        } else {
                            s.classList.remove('filled');
                        }
                    });
                });
            });
        }

        function saveTestimonial() {
            const testimonialId = document.getElementById('testimonialId').value;
            const testimonialData = {
                nama: document.getElementById('testimonialName').value,
                email: document.getElementById('testimonialEmail').value,
                rating: parseFloat(document.getElementById('testimonialRatingValue').value),
                testimoni: document.getElementById('testimonialText').value,
                status: document.getElementById('testimonialStatus').value,
                tanggal: document.getElementById('testimonialDate').value,
                updated_at: new Date().toISOString()
            };
            
            if (testimonialId) {
                // Update existing testimonial
                const index = testimonialsData.findIndex(t => t.id == testimonialId);
                if (index !== -1) {
                    testimonialsData[index] = { ...testimonialsData[index], ...testimonialData };
                    showNotification('Testimoni berhasil diperbarui!', 'success');
                }
            } else {
                // Add new testimonial
                testimonialData.id = testimonialsData.length > 0 ? Math.max(...testimonialsData.map(t => t.id)) + 1 : 1;
                testimonialData.created_at = new Date().toISOString();
                testimonialsData.push(testimonialData);
                showNotification('Testimoni berhasil ditambahkan!', 'success');
            }
            
            saveData();
            renderTestimonials();
            updateDashboardStats();
            hideTestimonialForm();
        }

        function editTestimonial(id) {
            const testimonial = testimonialsData.find(t => t.id == id);
            if (testimonial) {
                document.getElementById('testimonialFormTitle').textContent = 'Edit Testimoni';
                document.getElementById('testimonialId').value = testimonial.id;
                document.getElementById('testimonialName').value = testimonial.nama;
                document.getElementById('testimonialEmail').value = testimonial.email;
                document.getElementById('testimonialRatingValue').value = testimonial.rating;
                document.getElementById('testimonialText').value = testimonial.testimoni;
                document.getElementById('testimonialStatus').value = testimonial.status;
                document.getElementById('testimonialDate').value = testimonial.tanggal;
                
                // Setup rating stars
                setupRatingStars();
                
                // Set star display
                const stars = document.querySelectorAll('#testimonialRating i');
                stars.forEach(star => {
                    const sRating = parseInt(star.getAttribute('data-rating'));
                    if (sRating <= testimonial.rating) {
                        star.classList.add('filled');
                    } else {
                        star.classList.remove('filled');
                    }
                });
                
                document.getElementById('testimonialFormContainer').style.display = 'block';
                document.getElementById('testimonialForm').onsubmit = function(e) {
                    e.preventDefault();
                    saveTestimonial();
                };
            }
        }

        function toggleTestimonialSelection(testimonialId, isChecked) {
            if (isChecked) {
                selectedTestimonials.add(testimonialId);
            } else {
                selectedTestimonials.delete(testimonialId);
            }
        }

        function selectAllTestimonials(checked) {
            selectedTestimonials.clear();
            const checkboxes = document.querySelectorAll('#testimonialsTableBody input[type="checkbox"]');
            checkboxes.forEach(cb => {
                cb.checked = checked;
                if (checked) {
                    selectedTestimonials.add(parseInt(cb.value));
                }
            });
        }

        function verifySelectedTestimonials() {
            if (selectedTestimonials.size === 0) {
                showNotification('Pilih testimoni terlebih dahulu!', 'error');
                return;
            }
            
            if (confirm(`Verifikasi ${selectedTestimonials.size} testimoni terpilih?`)) {
                testimonialsData.forEach(testimonial => {
                    if (selectedTestimonials.has(testimonial.id)) {
                        testimonial.status = 'active';
                    }
                });
                saveData();
                renderTestimonials();
                showNotification('Testimoni berhasil diverifikasi!', 'success');
            }
        }

        function deleteSelectedTestimonials() {
            if (selectedTestimonials.size === 0) {
                showNotification('Pilih testimoni terlebih dahulu!', 'error');
                return;
            }
            
            if (confirm(`Hapus ${selectedTestimonials.size} testimoni terpilih?`)) {
                testimonialsData = testimonialsData.filter(t => !selectedTestimonials.has(t.id));
                selectedTestimonials.clear();
                saveData();
                renderTestimonials();
                updateDashboardStats();
                showNotification('Testimoni berhasil dihapus!', 'success');
            }
        }

        function filterTestimonials(searchTerm) {
            const rows = document.querySelectorAll('#testimonialsTableBody tr');
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm.toLowerCase()) ? '' : 'none';
            });
        }

        // ===== TOOLS MANAGEMENT =====
        function openTool(toolType) {
            const toolTitle = document.getElementById('toolTitle');
            const toolDescription = document.getElementById('toolDescription');
            const toolForm = document.getElementById('toolForm');
            
            const tools = {
                'backup': {
                    title: 'Backup Database',
                    description: 'Buat salinan backup dari seluruh data sistem',
                    content: `
                        <div class="tool-content-section">
                            <h4>Opsi Backup</h4>
                            <div style="margin: 20px 0;">
                                <button class="btn btn-primary" onclick="performBackup()">
                                    <i class="fas fa-download"></i> Backup Sekarang
                                </button>
                                <button class="btn btn-secondary" onclick="scheduleBackup()">
                                    <i class="fas fa-calendar-alt"></i> Jadwalkan Backup
                                </button>
                            </div>
                            <p>Backup terakhir: <strong id="lastBackupInfo">15 Nov 2023 14:30</strong></p>
                        </div>
                        <div class="tool-content-section">
                            <h4>Riwayat Backup</h4>
                            <ul class="tool-list">
                                <li>15 Nov 2023 14:30 <span class="status success">Selesai</span></li>
                                <li>14 Nov 2023 14:30 <span class="status success">Selesai</span></li>
                                <li>13 Nov 2023 14:30 <span class="status success">Selesai</span></li>
                            </ul>
                        </div>
                    `
                },
                'export': {
                    title: 'Export Data',
                    description: 'Ekspor data ke berbagai format file',
                    content: `
                        <div class="tool-content-section">
                            <h4>Pilih Data untuk Diekspor</h4>
                            <div style="margin: 15px 0;">
                                <label style="display: block; margin: 10px 0;">
                                    <input type="checkbox" checked> Data Pesanan
                                </label>
                                <label style="display: block; margin: 10px 0;">
                                    <input type="checkbox" checked> Data Paket
                                </label>
                                <label style="display: block; margin: 10px 0;">
                                    <input type="checkbox"> Data Testimoni
                                </label>
                                <label style="display: block; margin: 10px 0;">
                                    <input type="checkbox"> Data Galeri
                                </label>
                            </div>
                        </div>
                        <div class="tool-content-section">
                            <h4>Format Ekspor</h4>
                            <div style="margin: 20px 0;">
                                <button class="btn btn-primary" onclick="exportData('excel')">
                                    <i class="fas fa-file-excel"></i> Excel
                                </button>
                                <button class="btn btn-secondary" onclick="exportData('pdf')">
                                    <i class="fas fa-file-pdf"></i> PDF
                                </button>
                                <button class="btn btn-success" onclick="exportData('csv')">
                                    <i class="fas fa-file-csv"></i> CSV
                                </button>
                            </div>
                        </div>
                    `
                },
                'report': {
                    title: 'Generate Report',
                    description: 'Buat laporan statistik dan analisis',
                    content: `
                        <div class="tool-content-section">
                            <h4>Jenis Laporan</h4>
                            <select class="form-control" style="margin: 15px 0;">
                                <option>Laporan Bulanan</option>
                                <option>Laporan Tahunan</option>
                                <option>Laporan Pesanan</option>
                                <option>Laporan Pengunjung</option>
                            </select>
                        </div>
                        <div class="tool-content-section">
                            <h4>Periode</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Dari Tanggal</label>
                                    <input type="date" class="form-control" value="2023-11-01">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Sampai Tanggal</label>
                                    <input type="date" class="form-control" value="2023-11-15">
                                </div>
                            </div>
                        </div>
                        <div class="tool-content-section">
                            <button class="btn btn-primary" onclick="generateReport()" style="width: 100%;">
                                <i class="fas fa-chart-bar"></i> Generate Laporan
                            </button>
                        </div>
                    `
                },
                'user': {
                    title: 'Manajemen User',
                    description: 'Kelola pengguna dan hak akses',
                    content: `
                        <div class="tool-content-section">
                            <h4>Daftar Pengguna</h4>
                            <table style="width: 100%; margin: 15px 0;">
                                <tr>
                                    <th>Nama</th>
                                    <th>Role</th>
                                    <th>Status</th>
                                    <th>Aksi</th>
                                </tr>
                                <tr>
                                    <td>Admin</td>
                                    <td>Administrator</td>
                                    <td><span class="status active">Aktif</span></td>
                                    <td><button class="btn" style="padding: 2px 5px;">Edit</button></td>
                                </tr>
                                <tr>
                                    <td>Staff</td>
                                    <td>Operator</td>
                                    <td><span class="status active">Aktif</span></td>
                                    <td><button class="btn" style="padding: 2px 5px;">Edit</button></td>
                                </tr>
                            </table>
                        </div>
                        <div class="tool-content-section">
                            <button class="btn btn-primary" onclick="addNewUser()">
                                <i class="fas fa-plus"></i> Tambah User Baru
                            </button>
                        </div>
                    `
                },
                'log': {
                    title: 'Activity Log',
                    description: 'Riwayat aktivitas sistem',
                    content: `
                        <div class="tool-content-section">
                            <h4>Filter Log</h4>
                            <select class="form-control" style="margin: 15px 0;">
                                <option>Semua Aktivitas</option>
                                <option>Login/Logout</option>
                                <option>Perubahan Data</option>
                                <option>Upload File</option>
                            </select>
                        </div>
                        <div class="tool-content-section">
                            <h4>Riwayat Aktivitas Terbaru</h4>
                            <ul class="tool-list">
                                <li><strong>18:30</strong> - Admin login ke sistem</li>
                                <li><strong>18:25</strong> - Menambah paket baru</li>
                                <li><strong>18:15</strong> - Mengupdate data pesanan</li>
                                <li><strong>18:10</strong> - Upload foto galeri</li>
                                <li><strong>18:05</strong> - Menambah testimoni baru</li>
                            </ul>
                        </div>
                    `
                },
                'settings': {
                    title: 'System Settings',
                    description: 'Konfigurasi pengaturan sistem',
                    content: `
                        <div class="tool-content-section">
                            <h4>Pengaturan Umum</h4>
                            <div class="form-group">
                                <label class="form-label">Nama Website</label>
                                <input type="text" class="form-control" value="Gerbang Langit">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Email Admin</label>
                                <input type="email" class="form-control" value="admin@gerbanglangit.com">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Timezone</label>
                                <select class="form-control">
                                    <option>WIB (UTC+7)</option>
                                    <option>WITA (UTC+8)</option>
                                    <option>WIT (UTC+9)</option>
                                </select>
                            </div>
                        </div>
                        <div class="tool-content-section">
                            <button class="btn btn-primary" onclick="saveSettings()">
                                <i class="fas fa-save"></i> Simpan Pengaturan
                            </button>
                        </div>
                    `
                }
            };
            
            const tool = tools[toolType];
            if (tool) {
                toolTitle.innerHTML = `<i class="fas fa-tools"></i> ${tool.title}`;
                toolDescription.innerHTML = `<p>${tool.description}</p>`;
                toolForm.innerHTML = tool.content;
                
                // Scroll to tool content
                document.getElementById('toolContent').scrollIntoView({ behavior: 'smooth' });
            }
        }

        function performBackup() {
            showNotification('Memulai proses backup...', 'info');
            
            // Simulate backup process
            setTimeout(() => {
                const now = new Date();
                const backupDate = now.toLocaleDateString('id-ID', {
                    day: 'numeric',
                    month: 'short',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                document.getElementById('lastBackupInfo').textContent = backupDate;
                document.getElementById('lastBackupDate').textContent = backupDate;
                showNotification('Backup berhasil diselesaikan!', 'success');
            }, 2000);
        }

        function scheduleBackup() {
            const schedule = prompt('Masukkan jadwal backup (contoh: "Setiap hari pukul 02:00"):');
            if (schedule) {
                showNotification(`Backup dijadwalkan: ${schedule}`, 'success');
            }
        }

        function exportData(format) {
            showNotification(`Mengekspor data ke format ${format.toUpperCase()}...`, 'info');
            
            setTimeout(() => {
                showNotification(`Data berhasil diekspor ke format ${format.toUpperCase()}!`, 'success');
            }, 1500);
        }

        function generateReport() {
            showNotification('Membuat laporan statistik...', 'info');
            
            setTimeout(() => {
                const reportContent = `
                    LAPORAN STATISTIK GERBANG LANGIT
                    =================================
                    
                    Periode: 1 - 15 November 2023
                    
                    Total Pesanan: ${bookingsData.length}
                    Total Paket: ${packagesData.length}
                    Total Fasilitas: ${facilitiesData.length}
                    Total Testimoni: ${testimonialsData.length}
                    Total Foto: ${galleryData.length}
                    
                    Pendapatan: Rp ${bookingsData.reduce((sum, b) => sum + (b.total || 0), 0).toLocaleString('id-ID')}
                    
                    Status:
                    - Pesanan Aktif: ${bookingsData.filter(b => b.status === 'active' || b.status === 'confirmed').length}
                    - Paket Aktif: ${packagesData.filter(p => p.status === 'active').length}
                    - Fasilitas Aktif: ${facilitiesData.filter(f => f.status === 'active').length}
                `;
                
                alert('Laporan telah digenerate!\n\n' + reportContent);
                showNotification('Laporan berhasil digenerate!', 'success');
            }, 2000);
        }

        function addNewUser() {
            showNotification('Fitur tambah user sedang dikembangkan', 'info');
        }

        function saveSettings() {
            showNotification('Pengaturan berhasil disimpan!', 'success');
        }

        // ===== HELPER FUNCTIONS =====
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('id-ID', {
                day: '2-digit',
                month: 'short',
                year: 'numeric'
            });
        }

        function getStatusText(status) {
            const statusMap = {
                'pending': 'Menunggu',
                'confirmed': 'Dikonfirmasi',
                'completed': 'Selesai',
                'cancelled': 'Dibatalkan',
                'active': 'Aktif',
                'inactive': 'Tidak Aktif',
                'maintenance': 'Maintenance'
            };
            return statusMap[status] || status;
        }

        function truncateText(text, maxLength) {
            if (text.length <= maxLength) return text;
            return text.substring(0, maxLength) + '...';
        }

        function navigateTo(page) {
            showPage(page);
        }

        // ===== ORDER MANAGEMENT FUNCTIONS =====
        // (Keep existing order functions from your original code)
        let selectedOrders = new Set();
        let selectedPackages = new Set();

        function renderOrdersTable() {
            const tableBody = document.getElementById('ordersTableBody');
            const recentBookings = bookingsData.slice(0, 10).reverse();
            
            tableBody.innerHTML = recentBookings.map(booking => `
                <tr>
                    <td><input type="checkbox" value="${booking.id}" onchange="toggleOrderSelection('${booking.id}', this.checked)"></td>
                    <td>${booking.id}</td>
                    <td>${escapeHtml(booking.nama)}</td>
                    <td>${formatDate(booking.tanggal)}</td>
                    <td>${escapeHtml(booking.paket)}</td>
                    <td>${booking.total ? 'Rp ' + booking.total.toLocaleString('id-ID') : '-'}</td>
                    <td><span class="status ${booking.status}">${getStatusText(booking.status)}</span></td>
                    <td>
                        <button class="btn" style="padding: 5px 10px; font-size: 0.9rem; min-width: auto;" onclick="viewOrderDetail('${booking.id}')">Detail</button>
                    </td>
                </tr>
            `).join('');
        }

        function toggleOrderSelection(orderId, isChecked) {
            if (isChecked) {
                selectedOrders.add(orderId);
            } else {
                selectedOrders.delete(orderId);
            }
            
            const selectAll = document.getElementById('selectAllOrders');
            const checkboxes = document.querySelectorAll('#ordersTableBody input[type="checkbox"]');
            selectAll.checked = checkboxes.length > 0 && selectedOrders.size === checkboxes.length;
        }

        function selectAllOrders(checked) {
            selectedOrders.clear();
            const checkboxes = document.querySelectorAll('#ordersTableBody input[type="checkbox"]');
            checkboxes.forEach(cb => {
                cb.checked = checked;
                if (checked) {
                    selectedOrders.add(cb.value);
                }
            });
        }

        function filterOrders(searchTerm) {
            const rows = document.querySelectorAll('#ordersTableBody tr');
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm.toLowerCase()) ? '' : 'none';
            });
        }

        function createNewOrder() {
            showNotification('Fitur tambah pesanan manual akan segera tersedia!', 'info');
        }

        function confirmSelectedOrders() {
            if (selectedOrders.size === 0) {
                showNotification('Pilih pesanan terlebih dahulu!', 'error');
                return;
            }
            
            if (confirm(`Konfirmasi ${selectedOrders.size} pesanan terpilih?`)) {
                bookingsData.forEach(booking => {
                    if (selectedOrders.has(booking.id)) {
                        booking.status = 'confirmed';
                    }
                });
                saveData();
                renderOrdersTable();
                updateDashboardStats();
                showNotification('Pesanan berhasil dikonfirmasi!', 'success');
            }
        }

        function cancelSelectedOrders() {
            if (selectedOrders.size === 0) {
                showNotification('Pilih pesanan terlebih dahulu!', 'error');
                return;
            }
            
            if (confirm(`Batalkan ${selectedOrders.size} pesanan terpilih?`)) {
                bookingsData.forEach(booking => {
                    if (selectedOrders.has(booking.id)) {
                        booking.status = 'cancelled';
                    }
                });
                saveData();
                renderOrdersTable();
                updateDashboardStats();
                showNotification('Pesanan berhasil dibatalkan!', 'success');
            }
        }

        function viewOrderDetail(orderId) {
            const booking = bookingsData.find(b => b.id === orderId);
            if (booking) {
                alert(`Detail Pesanan:\n\nID: ${booking.id}\nNama: ${booking.nama}\nEmail: ${booking.email}\nWhatsApp: ${booking.whatsapp}\nPaket: ${booking.paket}\nTanggal: ${booking.tanggal}\nJumlah: ${booking.jumlah} orang\nTotal: ${booking.total ? 'Rp ' + booking.total.toLocaleString('id-ID') : '-'}\nStatus: ${getStatusText(booking.status)}`);
            }
        }

        function searchOrders() {
            const searchTerm = prompt('Masukkan kata kunci pencarian:');
            if (searchTerm) {
                filterOrders(searchTerm);
                showNotification(`Mencari pesanan dengan kata kunci: "${searchTerm}"`, 'info');
            }
        }

        //// ===== PACKAGE MANAGEMENT FUNCTIONS =====
function renderPackages() {
    const packageGrid = document.getElementById('packageGrid');
    const activePackages = packagesData.filter(p => p.status === 'active');
    
    packageGrid.innerHTML = activePackages.map(pkg => `
        <div class="package-card">
            <div class="package-header" style="background: linear-gradient(135deg, ${pkg.color || 'var(--secondary-color)'}, ${pkg.color2 || '#2980b9'});">
                <div class="package-name">${escapeHtml(pkg.nama)}</div>
                <div class="package-price">Rp ${pkg.harga.toLocaleString('id-ID')}</div>
                ${pkg.badge ? `<div style="background: white; color: ${pkg.badge === 'BESTSELLER' ? '#e74c3c' : pkg.badge === 'POPULAR' ? '#9b59b6' : '#3498db'}; padding: 5px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: bold; margin-top: 5px; display: inline-block;">${pkg.badge}</div>` : ''}
            </div>
            <div class="package-body">
                <img src="${pkg.gambar || 'https://images.unsplash.com/photo-1506929562872-bb421503ef21?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'}" 
                     alt="${escapeHtml(pkg.nama)}" 
                     style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 15px;">
                <ul class="package-features">
                    ${pkg.deskripsi.split('').map(item => item.trim()).filter(item => item).map(item => `
                        <li><i class="fas fa-check" style="color: ${pkg.color || 'var(--secondary-color)'}"></i> ${item}</li>
                    `).join('')}
                </ul>
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button class="btn btn-primary" style="flex: 1;" onclick="editPackage(${pkg.id})">
                        <i class="fas fa-edit"></i> Edit
                    </button>
                    <button class="btn btn-danger" style="flex: 1;" onclick="deletePackage(${pkg.id})">
                        <i class="fas fa-trash"></i> Hapus
                    </button>
                </div>
            </div>
        </div>
    `).join('');
    
    const tableBody = document.getElementById('packagesTableBody');
    tableBody.innerHTML = packagesData.map(pkg => `
        <tr>
            <td><input type="checkbox" value="${pkg.id}" onchange="togglePackageSelection(${pkg.id}, this.checked)"></td>
            <td>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <img src="${pkg.gambar || 'https://images.unsplash.com/photo-1506929562872-bb421503ef21?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80'}" 
                         alt="${escapeHtml(pkg.nama)}" 
                         style="width: 50px; height: 50px; object-fit: cover; border-radius: 5px;">
                    <span>${escapeHtml(pkg.nama)}</span>
                </div>
            </td>
            <td>Rp ${pkg.harga.toLocaleString('id-ID')}</td>
            <td><span class="status ${pkg.status}">${pkg.status === 'active' ? 'Aktif' : 'Tidak Aktif'}</span></td>
            <td>${formatDate(pkg.created_at)}</td>
            <td>
                <button class="btn" style="padding: 5px 10px; font-size: 0.9rem; min-width: auto; margin-right: 5px;" onclick="editPackage(${pkg.id})">
                    <i class="fas fa-edit"></i>
                </button>
                <button class="btn btn-danger" style="padding: 5px 10px; font-size: 0.9rem; min-width: auto;" onclick="deletePackage(${pkg.id})">
                    <i class="fas fa-trash"></i>
                </button>
            </td>
        </tr>
    `).join('');
}

function togglePackageSelection(packageId, isChecked) {
    if (isChecked) {
        selectedPackages.add(packageId);
    } else {
        selectedPackages.delete(packageId);
    }
    
    const selectAll = document.getElementById('selectAllPackages');
    const checkboxes = document.querySelectorAll('#packagesTableBody input[type="checkbox"]');
    selectAll.checked = checkboxes.length > 0 && selectedPackages.size === checkboxes.length;
}

function selectAllPackages(checked) {
    selectedPackages.clear();
    const checkboxes = document.querySelectorAll('#packagesTableBody input[type="checkbox"]');
    checkboxes.forEach(cb => {
        cb.checked = checked;
        if (checked) {
            selectedPackages.add(parseInt(cb.value));
        }
    });
}

function filterPackages(searchTerm) {
    const rows = document.querySelectorAll('#packagesTableBody tr');
    rows.forEach(row => {
        const text = row.textContent.toLowerCase();
        row.style.display = text.includes(searchTerm.toLowerCase()) ? '' : 'none';
    });
}

function showAddPackageForm() {
    document.getElementById('packageFormTitle').textContent = 'Tambah Paket Baru';
    document.getElementById('packageFormContainer').style.display = 'block';
    document.getElementById('packageForm').reset();
    document.getElementById('packageId').value = '';
    document.getElementById('packageImageData').value = '';
    document.getElementById('packageImagePreviewContainer').style.display = 'none';
    document.getElementById('packageImageUpload').style.display = 'flex';
    document.getElementById('packageUploadProgress').style.display = 'none';
    document.getElementById('packageColor').value = '#3498db';
    document.getElementById('packageColor2').value = '#2980b9';
    document.getElementById('packageBadge').value = '';
    
    document.getElementById('packageForm').onsubmit = function(e) {
        e.preventDefault();
        savePackage();
    };
    
    // Scroll ke form
    document.getElementById('packageFormContainer').scrollIntoView({ behavior: 'smooth' });
}

function hidePackageForm() {
    document.getElementById('packageFormContainer').style.display = 'none';
}

function previewPackageImage(input) {
    const previewContainer = document.getElementById('packageImagePreviewContainer');
    const preview = document.getElementById('packageImagePreview');
    const uploadArea = document.getElementById('packageImageUpload');
    
    if (input.files && input.files[0]) {
        const file = input.files[0];
        
        // Validasi ukuran file (max 5MB)
        if (file.size > 5 * 1024 * 1024) {
            showNotification('Ukuran file terlalu besar. Maksimal 5MB', 'error');
            input.value = '';
            return;
        }
        
        // Validasi tipe file
        if (!file.type.match('image.*')) {
            showNotification('File harus berupa gambar', 'error');
            input.value = '';
            return;
        }
        
        const reader = new FileReader();
        reader.onload = function(e) {
            preview.src = e.target.result;
            document.getElementById('packageImageData').value = e.target.result;
            previewContainer.style.display = 'block';
            uploadArea.style.display = 'none';
        };
        reader.readAsDataURL(file);
    }
}

function removePackageImage() {
    document.getElementById('packageImageFile').value = '';
    document.getElementById('packageImagePreview').src = '';
    document.getElementById('packageImageData').value = '';
    document.getElementById('packageImagePreviewContainer').style.display = 'none';
    document.getElementById('packageImageUpload').style.display = 'flex';
}

function savePackage() {
    const packageId = document.getElementById('packageId').value;
    const imageData = document.getElementById('packageImageData').value;
    
    // Validasi
    if (!document.getElementById('packageName').value) {
        showNotification('Nama paket harus diisi', 'error');
        return;
    }
    
    if (!document.getElementById('packagePrice').value) {
        showNotification('Harga paket harus diisi', 'error');
        return;
    }
    
    if (!document.getElementById('packageDescription').value) {
        showNotification('Deskripsi paket harus diisi', 'error');
        return;
    }
    
    if (!imageData && !packageId) {
        showNotification('Harap pilih gambar untuk paket', 'error');
        return;
    }
    
    // Simulate upload progress
    const progressBar = document.getElementById('packageUploadProgressBar');
    const progressContainer = document.getElementById('packageUploadProgress');
    
    progressContainer.style.display = 'block';
    progressBar.style.width = '0%';
    
    let progress = 0;
    const interval = setInterval(() => {
        progress += 10;
        progressBar.style.width = progress + '%';
        
        if (progress >= 100) {
            clearInterval(interval);
            
            const packageData = {
                nama: document.getElementById('packageName').value,
                harga: parseInt(document.getElementById('packagePrice').value),
                deskripsi: document.getElementById('packageDescription').value,
                gambar: imageData,
                color: document.getElementById('packageColor').value,
                color2: document.getElementById('packageColor2').value,
                badge: document.getElementById('packageBadge').value,
                status: document.getElementById('packageStatus').value,
                updated_at: new Date().toISOString()
            };
            
            if (packageId) {
                // Update existing package
                const index = packagesData.findIndex(p => p.id == packageId);
                if (index !== -1) {
                    // Jika tidak ada gambar baru, pertahankan gambar lama
                    if (!imageData && packagesData[index].gambar) {
                        packageData.gambar = packagesData[index].gambar;
                    }
                    packagesData[index] = { ...packagesData[index], ...packageData };
                    showNotification('Paket berhasil diperbarui!', 'success');
                }
            } else {
                // Add new package
                packageData.id = packagesData.length > 0 ? Math.max(...packagesData.map(p => p.id)) + 1 : 1;
                packageData.created_at = new Date().toISOString();
                packagesData.push(packageData);
                showNotification('Paket berhasil ditambahkan!', 'success');
            }
            
            saveData();
            renderPackages();
            updateDashboardStats();
            hidePackageForm();
            
            // Hide progress bar after 1 second
            setTimeout(() => {
                progressContainer.style.display = 'none';
            }, 1000);
        }
    }, 100);
}

function editPackage(packageId) {
    const pkg = packagesData.find(p => p.id === packageId);
    if (pkg) {
        document.getElementById('packageFormTitle').textContent = 'Edit Paket';
        document.getElementById('packageId').value = pkg.id;
        document.getElementById('packageName').value = pkg.nama;
        document.getElementById('packagePrice').value = pkg.harga;
        document.getElementById('packageDescription').value = pkg.deskripsi;
        document.getElementById('packageColor').value = pkg.color || '#3498db';
        document.getElementById('packageColor2').value = pkg.color2 || '#2980b9';
        document.getElementById('packageBadge').value = pkg.badge || '';
        document.getElementById('packageStatus').value = pkg.status;
        
        // Tampilkan gambar yang sudah ada
        if (pkg.gambar) {
            const preview = document.getElementById('packageImagePreview');
            const previewContainer = document.getElementById('packageImagePreviewContainer');
            const uploadArea = document.getElementById('packageImageUpload');
            
            preview.src = pkg.gambar;
            document.getElementById('packageImageData').value = pkg.gambar;
            previewContainer.style.display = 'block';
            uploadArea.style.display = 'none';
        } else {
            document.getElementById('packageImagePreviewContainer').style.display = 'none';
            document.getElementById('packageImageUpload').style.display = 'flex';
        }
        
        document.getElementById('packageFormContainer').style.display = 'block';
        document.getElementById('packageForm').onsubmit = function(e) {
            e.preventDefault();
            savePackage();
        };
        
        // Scroll ke form
        document.getElementById('packageFormContainer').scrollIntoView({ behavior: 'smooth' });
    }
}

function updatePackage(packageId) {
    // Fungsi ini sudah digabung dengan savePackage()
    // Tetap dipertahankan untuk kompatibilitas
    editPackage(packageId);
}

function deletePackage(packageId) {
    if (confirm('Apakah Anda yakin ingin menghapus paket ini?')) {
        packagesData = packagesData.filter(p => p.id !== packageId);
        selectedPackages.delete(packageId);
        saveData();
        renderPackages();
        updateDashboardStats();
        showNotification('Paket berhasil dihapus!', 'success');
    }
}

function deleteSelectedPackage() {
    if (selectedPackages.size === 0) {
        showNotification('Pilih paket terlebih dahulu!', 'error');
        return;
    }
    
    if (confirm(`Hapus ${selectedPackages.size} paket terpilih?`)) {
        packagesData = packagesData.filter(p => !selectedPackages.has(p.id));
        selectedPackages.clear();
        saveData();
        renderPackages();
        updateDashboardStats();
        showNotification('Paket berhasil dihapus!', 'success');
    }
}

function editSelectedPackage() {
    if (selectedPackages.size === 0) {
        showNotification('Pilih paket terlebih dahulu!', 'error');
        return;
    }
    
    if (selectedPackages.size > 1) {
        showNotification('Silakan pilih hanya satu paket untuk diedit', 'info');
        return;
    }
    
    const packageId = Array.from(selectedPackages)[0];
    editPackage(packageId);
}

function previewSelectedPackage() {
    if (selectedPackages.size === 0) {
        showNotification('Pilih paket terlebih dahulu!', 'error');
        return;
    }
    
    if (selectedPackages.size > 1) {
        showNotification('Silakan pilih hanya satu paket untuk dipreview', 'info');
        return;
    }
    
    const packageId = Array.from(selectedPackages)[0];
    const pkg = packagesData.find(p => p.id === packageId);
    
    if (pkg) {
        const modalContent = `
            <div style="text-align: center;">
                <h3 style="color: var(--primary-color); margin-bottom: 15px;">${escapeHtml(pkg.nama)}</h3>
                <img src="${pkg.gambar || 'https://images.unsplash.com/photo-1506929562872-bb421503ef21?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'}" 
                     alt="${escapeHtml(pkg.nama)}" 
                     style="width: 100%; max-height: 300px; object-fit: cover; border-radius: 8px; margin-bottom: 15px;">
                <div style="background: ${pkg.color || 'var(--secondary-color)'}; color: white; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                    <div style="font-size: 2rem; font-weight: bold;">Rp ${pkg.harga.toLocaleString('id-ID')}</div>
                </div>
                <div style="text-align: left; margin-bottom: 15px;">
                    <h4>Deskripsi:</h4>
                    <p>${escapeHtml(pkg.deskripsi)}</p>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                    <div>
                        <strong>Status:</strong> ${pkg.status === 'active' ? 'Aktif' : 'Tidak Aktif'}
                    </div>
                    <div>
                        <strong>Badge:</strong> ${pkg.badge || 'Tidak Ada'}
                    </div>
                </div>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button class="btn btn-primary" onclick="editPackage(${pkg.id}); document.querySelector('.modal').classList.remove('active');">
                        <i class="fas fa-edit"></i> Edit
                    </button>
                    <button class="btn btn-secondary" onclick="document.querySelector('.modal').classList.remove('active')">
                        <i class="fas fa-times"></i> Tutup
                    </button>
                </div>
            </div>
        `;
        
        // Buat modal preview
        const modal = document.createElement('div');
        modal.className = 'modal active';
        modal.innerHTML = `
            <div class="modal-content" style="max-width: 600px;">
                <div style="position: absolute; top: 15px; right: 15px;">
                    <button onclick="this.parentElement.parentElement.parentElement.classList.remove('active')" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #7f8c8d;">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                ${modalContent}
            </div>
        `;
        
        document.body.appendChild(modal);
        
        // Tambahkan event listener untuk menutup modal
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                modal.classList.remove('active');
                setTimeout(() => modal.remove(), 300);
            }
        });
    }
}

// Modifikasi form HTML untuk paket
function updatePackageFormHTML() {
    const packageFormContainer = document.getElementById('packageFormContainer');
    if (packageFormContainer) {
        packageFormContainer.innerHTML = `
            <h3 class="section-title">
                <i class="fas fa-plus-circle"></i>
                <span id="packageFormTitle">Tambah Paket Baru</span>
            </h3>
            <form id="packageForm">
                <input type="hidden" id="packageId">
                <input type="hidden" id="packageImageData">
                
                <div class="form-group">
                    <label class="form-label">Nama Paket</label>
                    <input type="text" class="form-control" id="packageName" placeholder="Contoh: Paket Keluarga" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Harga</label>
                        <input type="number" class="form-control" id="packagePrice" placeholder="Contoh: 750000" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <select class="form-control" id="packageStatus" required>
                            <option value="active">Aktif</option>
                            <option value="inactive">Tidak Aktif</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Warna Utama</label>
                        <input type="color" class="form-control" id="packageColor" value="#3498db" style="height: 45px; padding: 5px;">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Warna Sekunder</label>
                        <input type="color" class="form-control" id="packageColor2" value="#2980b9" style="height: 45px; padding: 5px;">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Deskripsi (gunakan  untuk list)</label>
                    <textarea class="form-control" id="packageDescription" rows="4" placeholder="Contoh:  Jeep Offroad  Guide Lokal  Makan Pagi  Dokumentasi" required></textarea>
                    <small style="color: #7f8c8d; display: block; margin-top: 5px;">Pisahkan setiap fitur dengan tanda </small>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Gambar Paket</label>
                    <div class="image-upload-area" onclick="document.getElementById('packageImageFile').click()" id="packageImageUpload">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Klik untuk memilih foto</p>
                        <p class="image-size-info">Format: JPG, PNG (Max 5MB)</p>
                    </div>
                    <div class="image-preview-container" id="packageImagePreviewContainer" style="display: none;">
                        <img id="packageImagePreview" class="package-image-preview" alt="Preview">
                        <button type="button" class="remove-image-btn" onclick="removePackageImage()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <input type="file" id="packageImageFile" accept="image/*" style="display: none;" onchange="previewPackageImage(this)">
                    <div class="upload-progress" id="packageUploadProgress">
                        <div class="upload-progress-bar" id="packageUploadProgressBar"></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Badge</label>
                    <select class="form-control" id="packageBadge">
                        <option value="">Tidak Ada</option>
                        <option value="BESTSELLER">BESTSELLER</option>
                        <option value="POPULAR">POPULAR</option>
                        <option value="NEW">NEW</option>
                        <option value="DISKON">DISKON</option>
                        <option value="TERBAIK">TERBAIK</option>
                    </select>
                </div>
                
                <div class="form-buttons">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        Simpan Paket
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="hidePackageForm()">
                        <i class="fas fa-times"></i>
                        Batal
                    </button>
                </div>
            </form>
        `;
    }
}

// Panggil fungsi untuk update form saat halaman dimuat
document.addEventListener('DOMContentLoaded', function() {
    updatePackageFormHTML();
});
        // ===== NAVIGATION FUNCTIONS =====
        function updateTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            document.getElementById('timeDisplay').textContent = `${hours}:${minutes}`;
            
            // Update last update date in footer
            const options = { day: 'numeric', month: 'long', year: 'numeric' };
            document.getElementById('lastUpdateDate').textContent = now.toLocaleDateString('id-ID', options);
        }

        // Update time immediately and then every minute
        updateTime();
        setInterval(updateTime, 60000);

        // Breadcrumb data
        const breadcrumbData = {
            'dashboard': ['Dashboard', 'Utama'],
            'order': ['Pesanan', 'Daftar Pesanan'],
            'package': ['Paket', 'Manajemen Paket'],
            'facility': ['Fasilitas', 'Daftar Fasilitas'],
            'gallery': ['Galeri', 'Album Foto'],
            'testimonial': ['Testimoni', 'Ulasan Pengunjung'],
            'tool': ['Tools', 'Administrasi']
        };

        // Page titles
        const pageTitles = {
            'dashboard': 'Dashboard Admin',
            'order': 'Manajemen Pesanan',
            'package': 'Manajemen Paket Wisata',
            'facility': 'Manajemen Fasilitas',
            'gallery': 'Galeri Gerbang Langit',
            'testimonial': 'Manajemen Testimoni',
            'tool': 'Tools Administrasi'
        };

        // Page Navigation
        const menuItems = document.querySelectorAll('.menu-item');
        const pageContents = document.querySelectorAll('.page-content');
        const pageTitle = document.getElementById('pageTitle');
        const breadcrumb = document.getElementById('breadcrumb');

        function showPage(pageId) {
            pageContents.forEach(page => {
                page.classList.remove('active');
            });
            
            const activePage = document.getElementById(`${pageId}-page`);
            if (activePage) {
                activePage.classList.add('active');
                pageTitle.textContent = pageTitles[pageId] || 'Dashboard Admin';
                
                if (breadcrumbData[pageId]) {
                    breadcrumb.innerHTML = `
                        <span>${breadcrumbData[pageId][0]}</span>
                        <i class="fas fa-chevron-right"></i>
                        <span>${breadcrumbData[pageId][1]}</span>
                    `;
                }
                
                if (pageId === 'order' || pageId === 'dashboard') {
                    renderOrdersTable();
                }
                if (pageId === 'package' || pageId === 'dashboard') {
                    renderPackages();
                }
                if (pageId === 'facility' || pageId === 'dashboard') {
                    renderFacilitiesTable();
                }
                if (pageId === 'testimonial' || pageId === 'dashboard') {
                    renderTestimonials();
                }
                if (pageId === 'gallery' || pageId === 'dashboard') {
                    renderGallery();
                }
                if (pageId === 'dashboard') {
                    updateDashboardStats();
                }
            }
            
            menuItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-page') === pageId) {
                    item.classList.add('active');
                }
            });
            
            window.location.hash = pageId;
            window.scrollTo(0, 0);
        }

        menuItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const pageId = this.getAttribute('data-page');
                showPage(pageId);
                
                if (window.innerWidth <= 768) {
                    sidebar.classList.remove('active');
                    logoutDropdown.classList.remove('active');
                }
            });
        });

        window.addEventListener('DOMContentLoaded', () => {
            loadData();
            const hash = window.location.hash.substring(1);
            if (hash && pageTitles[hash]) {
                showPage(hash);
            } else {
                showPage('dashboard');
            }
        });

        // ===== SIDEBAR AND LOGOUT FUNCTIONALITY =====
        const menuToggle = document.getElementById('menuToggle');
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('mainContent');
        const logoutBtnSidebar = document.getElementById('logoutBtnSidebar');
        const logoutBtnHeader = document.getElementById('logoutBtnHeader');
        const userAvatar = document.getElementById('userAvatar');
        const logoutDropdown = document.getElementById('logoutDropdown');
        const logoutModal = document.getElementById('logoutModal');
        const cancelLogout = document.getElementById('cancelLogout');
        const confirmLogout = document.getElementById('confirmLogout');

        function showLogoutModal() {
            logoutModal.classList.add('active');
            logoutDropdown.classList.remove('active');
        }

        function hideLogoutModal() {
            logoutModal.classList.remove('active');
        }

        function performLogout() {
            localStorage.removeItem("admin_logged_in");
            localStorage.removeItem("admin_username");
            localStorage.removeItem("admin_login_time");
            window.location.href = "login.html";
        }

        logoutBtnSidebar.addEventListener('click', showLogoutModal);
        logoutBtnHeader.addEventListener('click', showLogoutModal);

        userAvatar.addEventListener('click', (e) => {
            e.stopPropagation();
            logoutDropdown.classList.toggle('active');
        });

        document.addEventListener('click', (event) => {
            if (!userAvatar.contains(event.target) && !logoutDropdown.contains(event.target)) {
                logoutDropdown.classList.remove('active');
            }
        });

        cancelLogout.addEventListener('click', hideLogoutModal);
        confirmLogout.addEventListener('click', performLogout);

        logoutModal.addEventListener('click', (e) => {
            if (e.target === logoutModal) {
                hideLogoutModal();
            }
        });

        menuToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            sidebar.classList.toggle('active');
            logoutDropdown.classList.remove('active');
        });

        document.addEventListener('click', (event) => {
            const isMobile = window.innerWidth <= 768;
            const isClickInsideSidebar = sidebar.contains(event.target);
            const isClickOnMenuToggle = menuToggle.contains(event.target);

            if (isMobile && !isClickInsideSidebar && !isClickOnMenuToggle && sidebar.classList.contains('active')) {
                sidebar.classList.remove('active');
                logoutDropdown.classList.remove('active');
            }
        });

        function handleResize() {
            if (window.innerWidth <= 768) {
                sidebar.classList.remove('sidebar-collapsed');
                mainContent.classList.remove('sidebar-collapsed');
                
                if (window.innerWidth <= 576) {
                    sidebar.classList.remove('active');
                }
            } else if (window.innerWidth > 1024) {
                sidebar.classList.add('sidebar-collapsed');
                mainContent.classList.add('sidebar-collapsed');
                sidebar.classList.remove('active');
                logoutDropdown.classList.remove('active');
            } else {
                sidebar.classList.remove('active');
                sidebar.classList.remove('sidebar-collapsed');
                mainContent.classList.remove('sidebar-collapsed');
                logoutDropdown.classList.remove('active');
            }
        }

        window.addEventListener('resize', handleResize);
        handleResize();

        document.addEventListener('keydown', (e) => {
            if ((e.ctrlKey || e.metaKey) && e.key === 'l') {
                e.preventDefault();
                showLogoutModal();
            }
            
            if (e.key === 'Escape' && logoutModal.classList.contains('active')) {
                hideLogoutModal();
            }
        });

        // Event listeners for select all checkboxes
        document.getElementById('selectAllOrders')?.addEventListener('change', function(e) {
            selectAllOrders(this.checked);
        });

        document.getElementById('selectAllPackages')?.addEventListener('change', function(e) {
            selectAllPackages(this.checked);
        });

        document.getElementById('selectAllFacilities')?.addEventListener('change', function(e) {
            selectAllFacilities(this.checked);
        });

        document.getElementById('selectAllTestimonials')?.addEventListener('change', function(e) {
            selectAllTestimonials(this.checked);
        });

        document.getElementById('selectAllAlbums')?.addEventListener('change', function(e) {
            const checked = this.checked;
            selectedAlbums.clear();
            const checkboxes = document.querySelectorAll('#albumsTableBody input[type="checkbox"]');
            checkboxes.forEach(cb => {
                cb.checked = checked;
                if (checked) {
                    selectedAlbums.add(cb.value);
                }
            });
        });

        // Initialize rating stars on page load
        document.addEventListener('DOMContentLoaded', function() {
            setupRatingStars();
            
            // Set current date for testimonial form
            document.getElementById('testimonialDate').valueAsDate = new Date();
            
            // Initialize tool content
            openTool('backup');
        });
    </script>
</body>
</html>
